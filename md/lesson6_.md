### **МДК 09.01. Проектирование и разработка веб-приложений**
**Тема лекции: Псевдоклассы в CSS**

**Цель лекции:** Изучить понятие, назначение и классификацию CSS-псевдоклассов. Научиться применять их для решения практических задач по стилизации веб-страниц, повышая их интерактивность и визуальную привлекательность.

**План лекции:**
1.  **Что такое псевдокласс?** (Теоретическое введение)
2.  **Синтаксис и структура записи.**
3.  **Классификация псевдоклассов:**
    *   **Динамические (пользовательские) псевдоклассы.**
    *   **Структурные псевдоклассы.**
    *   **Псевдоклассы состояния элементов формы.**
    *   **Прочие псевдоклассы.**
4.  **Комбинации и специфичность.**
5.  **Практические примеры и применение.**
6.  **Резюме.**

---

### **1. Что такое псевдокласс?**

**Псевдокласс** — это ключевое слово, добавленное к селектору, которое определяет его **особое состояние**. Оно позволяет стилизовать элемент не только на основе его положения в дереве документа (DOM), но и на основе внешних факторов: был ли на элемент наведён курсор мыши (:hover), посещалась ли ссылка ранее (:visited), является ли элемент первым в своём родителе (:first-child) и многое другое.

**Простая аналогия:** Представьте кнопку. В обычном состоянии она синяя. Когда пользователь наводит на неё курсор, она становится темно-синей (это её *состояние* `:hover`). Когда он нажимает на неё, она "утопает" (состояние `:active`). Псевдоклассы позволяют описать, как должен выглядеть элемент в каждом из этих состояний.

**Главная цель:** Обеспечить обратную связь с пользователем и сделать интерфейс более интерактивным и понятным без использования JavaScript.

### **2. Синтаксис и структура записи**

Синтаксис применения псевдокласса очень прост. Он добавляется к селектору через двоеточие.

```css
селектор:псевдокласс {
  свойство: значение;
}
```

**Примеры:**
*   `a:hover { ... }` - стили для всех ссылок при наведении.
*   `button:active { ... }` - стили для всех кнопок в момент нажатия.
*   `li:first-child { ... }` - стили для первого элемента в каждом списке.

**Важно:** Псевдоклассы можно комбинировать с классами и другими селекторами для большей точности.
*   `.menu-item:hover { ... }` - стили apply только к элементам с классом `.menu-item` при наведении.
*   `ul#nav li:first-child a { ... }` - сложный селектор для ссылки внутри первого элемента списка внутри `ul` с id `nav`.

### **3. Классификация псевдоклассов**

#### **3.1. Динамические (пользовательские) псевдоклассы**

Самые распространённые псевдоклассы. Реагируют на действия пользователя.

*   **`:link`** - стилизует ещё **не посещённые** ссылки (`<a>` с атрибутом `href`).
    ```css
    a:link {
      color: blue;
      text-decoration: none;
    }
    ```

*   **`:visited`** - стилизует **посещённые** ссылки. Из соображений безопасности браузеры сильно ограничивают набор стилей для этого псевдокласса (обычно только `color`, `background-color`, `border-color`).
    ```css
    a:visited {
      color: purple;
    }
    ```

*   **`:hover`** - срабатывает, когда пользователь **наводит курсор** на элемент. Применим к любым элементам, не только к ссылкам.
    ```css
    /* Для кнопок */
    button:hover {
      background-color: #0056b3;
      cursor: pointer; /* Меняем курсор на "указатель" */
    }

    /* Для любого блока */
    .card:hover {
      box-shadow: 0 0 15px rgba(0,0,0,0.2); /* Эффект поднятия карточки */
    }
    ```

*   **`:active`** - момент **активации** элемента (например, нажатие кнопки мыши на ссылке и удерживание). Обычно длится доли секунды.
    ```css
    a:active {
      color: red;
    }
    button:active {
      transform: translateY(2px); /* Эффект "нажатия" */
    }
    ```

*   **`:focus`** - применяется, когда элемент получает **фокус** (например, при переходе по нему с клавиатуры с помощью Tab или при клике на поле ввода). Критически важен для accessibility (доступности).
    ```css
    input:focus {
      outline: 2px solid #4d90fe; /* Замена стандартного контура */
      border-color: #4d90fe;
    }
    ```

**Порядок применения для ссылок (`<a>`) важен!** `:link` -> `:visited` -> `:hover` -> `:active` (помните мнемоническое правило **L**o**V**e **HA**te - LVHA).

#### **3.2. Структурные псевдоклассы**

Позволяют выбирать элементы на основе их положения в дереве документа относительно родительского элемента.

*   **`:first-child`** - выбирает первый дочерний элемент своего родителя.
    ```css
    ul li:first-child {
      font-weight: bold;
      border-top: 1px solid grey;
    }
    ```

*   **`:last-child`** - выбирает последний дочерний элемент своего родителя.
    ```css
    ul li:last-child {
      border-bottom: 2px solid black;
    }
    ```

*   **`:nth-child()`** - мощнейший псевдокласс для выбора одного или нескольких элементов по их порядковому номеру. Принимает аргументы:
    *   **Ключевые слова:** `odd` (нечётные), `even` (чётные).
    *   **Формула:** `An+B`, где `A` - шаг цикла, `B` - смещение, `n` - счётчик (начинается с 0).
    ```css
    /* Зебра для таблицы или списка */
    tr:nth-child(odd) {
      background-color: #f2f2f2;
    }

    /* Выбрать каждый 3-й элемент */
    li:nth-child(3n) {
      color: red;
    }

    /* Выбрать каждый 3-й элемент, начиная со 2-го (2, 5, 8, 11...) */
    li:nth-child(3n+2) {
      color: blue;
    }

    /* Выбрать первые 4 элемента */
    li:nth-child(-n+4) {
      font-size: 1.2em;
    }
    ```

*   **`:nth-of-type()`** - похож на `:nth-child`, но учитывает тип (тег) элемента. Выбирает элементы заданного типа по порядковому номеру.
    ```html
    <div>
      <p>Параграф 1</p>
      <span>Спан 1</span>
      <p>Параграф 2</p> <!-- Этот элемент будет выбран p:nth-of-type(2) -->
      <span>Спан 2</span>
    </div>
    ```
    ```css
    p:nth-of-type(2) {
      color: green; /* Стилизуется второй параграф */
    }
    ```

#### **3.3. Псевдоклассы состояния элементов формы**

Помогают визуально обозначить состояние полей формы.

*   **`:checked`** - выбирает отмеченные чекбоксы (`<input type="checkbox">`) и радиокнопки (`<input type="radio">`).
    ```css
    input[type="checkbox"]:checked + label {
      color: green;
      font-weight: bold;
    }
    ```

*   **`:disabled`** / **`:enabled`** - выбирают заблокированные и разблокированные поля формы.
    ```css
    input:disabled {
      background-color: #eee;
      cursor: not-allowed;
    }
    ```

*   **`:required`** / **`:optional`** - выбирают поля с атрибутом `required` и без него.
    ```css
    input:required {
      border-left: 3px solid red;
    }
    ```

*   **`:valid`** / **`:invalid`** - выбирают поля, содержимое которых прошло или не прошло валидацию (проверку на соответствие типу, pattern и т.д.).
    ```css
    input:invalid {
      border-color: red;
      box-shadow: 0 0 5px red;
    }
    input:valid {
      border-color: green;
    }
    ```

#### **3.4. Прочие псевдоклассы**

*   **`:not()`** - псевдокласс-отрицание. Выбирает элементы, которые **НЕ** соответствуют указанному селектору.
    ```css
    /* Выбрать все кнопки, кроме той, у которой класс .disabled */
    button:not(.disabled) {
      opacity: 1;
    }

    /* Выбрать все input, кроме тех, у которых type="submit" */
    input:not([type="submit"]) {
      width: 200px;
    }
    ```

### **4. Комбинации и специфичность**

Псевдоклассы можно комбинировать для точного таргетинга.
```css
/* Стили для чётных строк таблицы при наведении */
tr:nth-child(even):hover {
  background-color: #dde;
}

/* Стили для обязательного поля, которое не прошло валидацию */
input:required:invalid {
  background-color: #ffe6e6;
}
```

**Специфичность** (вес селектора): Псевдокласс добавляет специфичность, как и класс (0,0,1,0). Селектор `a:hover` "весит" так же, как селектор `.my-link`.

### **5. Практические примеры и применение**

**Задача 1: Создать интерактивную навигационную панель.**
```css
.nav-link {
  display: inline-block;
  padding: 10px 20px;
  text-decoration: none;
  color: black;
  transition: background-color 0.3s ease; /* Плавный переход */
}

.nav-link:hover {
  background-color: #f0f0f0;
}

.nav-link:active {
  transform: scale(0.98); /* Лёгкое сжатие при клике */
}

.nav-link:focus {
  outline: none; /* Убираем стандартный контур */
  box-shadow: 0 0 0 2px #4d90fe; /* Делаем свой, более красивый */
}
```

**Задача 2: Стилизовать список и форму.**
```css
/* Зебровая раскраска списка */
ul li:nth-child(2n) {
  background: #f9f9f9;
}

/* Стиль для выбранной радиокнопки и её label */
input[type="radio"]:checked + label {
  color: blue;
  font-weight: bold;
}

/* Стиль для невалидного поля при фокусе */
input:focus:invalid {
  box-shadow: 0 0 5px red;
}
```

### **6. Резюме**

1.  **Псевдоклассы** — это мощный инструмент CSS для стилизации элементов based на их **состоянии** и **положении** в структуре документа.
2.  **Синтаксис:** `Селектор:Псевдокласс { ... }`.
3.  **Основные группы:**
    *   **Динамические (`:hover`, `:focus`, `:active`)**: Для интерактивности и обратной связи.
    *   **Структурные (`:nth-child()`, `:first-child`)**: Для выбора элементов по их порядку, создания "зебры".
    *   **Для форм (`:checked`, `:valid`, `:disabled`)**: Для улучшения UX в формах.
    *   **Отрицание `:not()`**: Для исключения элементов из выборки.
4.  **Важно помнить** о порядке следования динамических псевдоклассов для ссылок (**LoVe HAte**) и о том, что они повышают специфичность селектора.
5.  **Применение:** Правильное использование псевдоклассов позволяет создавать современные, интерактивные, доступные и визуально приятные интерфейсы, часто без необходимости написания JavaScript-кода.

**Домашнее задание:** Создайте страницу с навигационным меню, таблицей и формой. Примените не менее 7 различных псевдоклассов для стилизации всех этих элементов.