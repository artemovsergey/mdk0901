# Лекция. "CSS Box Model, Блочные и строчные элементы, Абсолютное позиционирование

**Цель:** Понимание фундаментальных принципов построения и позиционирования элементов на веб-странице.

---

### **План лекции**

1.  **Введение:** Что такое Box Model и почему это важно?
2.  **CSS Box Model:**
    *   Составляющие: `content`, `padding`, `border`, `margin`.
    *   Свойство `box-sizing` и его магическое влияние на расчет размеров.
3.  **Блочные (Block) и строчные (Inline) элементы:**
    *   Ключевые различия в поведении и потоке документа.
    *   Примеры HTML-тегов для каждого типа.
    *   Гибридный элемент: `inline-block`.
4.  **Абсолютное позиционирование:**
    *   Принцип работы: `position: absolute`.
    *   Контекст позиционирования и свойство `z-index`.
    *   Отличие от `position: relative` и `position: fixed`.
5.  **Резюме:** Связь всех трех концепций.
6.  **Контрольные вопросы.**

---

### **1. Введение**

Представьте, что каждый элемент на веб-странице (заголовок, параграф, кнопка, картинка) находится внутри своего собственного невидимого прямоугольника — **"бокса"** (коробки). Умение управлять этими коробками — это 80% успеха в верстке. Сегодня мы разберем, из чего эта коробка состоит, как разные типы коробок ведут себя по отношению друг к другу, и как мы можем точно управлять их положением на странице.

---

### **2. CSS Box Model**

**Box Model** — это фундаментальная концепция CSS, которая описывает, как устроен прямоугольный блок для каждого элемента. Он состоит из четырех областей, идущих изнутри наружу:

1.  **Content (Содержимое):** Ядро блока, где отображается ваш текст, изображение и т.д. Размеры задаются свойствами `width` и `height`.
2.  **Padding (Внутренний отступ):** Поле вокруг содержимого, внутри границы. Создает "воздух" между контентом и рамкой. Управляется свойством `padding`.
3.  **Border (Граница):** Линия, которая окружает padding и content. Задается свойством `border`.
4.  **Margin (Внешний отступ):** Пустое пространство *снаружи* границы, которое отталкивает соседние элементы. Управляется свойством `margin`.

**Пример 1: Визуализация Box Model**

```html
<div class="simple-box">Привет, я коробка!</div>
```

```css
.simple-box {
  width: 200px;        /* Ширина контента */
  height: 100px;       /* Высота контента */
  padding: 20px;       /* Внутренний отступ со всех сторон */
  border: 5px solid navy; /* Сплошная граница толщиной 5px */
  margin: 30px;        /* Внешний отступ со всех сторон */
  background-color: lightblue;
}
```

**Вопрос на засыпку:** Какой будет **общая ширина** этого блока на странице?
*   Ширина контента: `200px`
*   + Padding (слева + справа): `20px + 20px = 40px`
*   + Border (слева + справа): `5px + 5px = 10px`
*   + Margin (слева + справа): `30px + 30px = 60px`
*   **Итого общая занимаемая ширина: 310px**

Часто это поведение не интуитивно. Мы задали `width: 200px`, а блок занял 310px! Чтобы это исправить, существует свойство `box-sizing`.

#### **Свойство `box-sizing`**

Оно определяет, как рассчитываются `width` и `height`.

*   `box-sizing: content-box;` (**Значение по умолчанию**).
    *   `width` и `height` задают размер только **контенту**. Padding и border добавляются сверху.
*   `box-sizing: border-box;` (**Спаситель верстальщиков**).
    *   `width` и `height` задают общий размер блока, **включая padding и border**. Размер контента при этом вычисляется автоматически.

**Пример 2: Использование `border-box`**

```css
.simple-box {
  box-sizing: border-box; /* Волшебное свойство! */
  width: 200px;  /* Теперь это ОБЩАЯ ширина блока */
  padding: 20px;
  border: 5px solid navy;
  /* Фактическая ширина контента теперь: 200px - 40px - 10px = 150px */
}
```
Теперь наш блок займет ровно `200px` в ширину, а внутренние отступы и граница будут "вдавлены" внутрь. **Рекомендуется всегда устанавливать `border-box` для всех элементов в начале проекта.**

```css
* { 
  box-sizing: border-box;
}
```

---

### **3. Блочные (Block) и строчные (Inline) элементы**

#### **Блочные элементы (Display: Block)**

*   **Поведение:** Занимают всю доступную ширину родителя, выстраиваются друг под другом (как параграфы в книге).
*   **Можно задавать:** `width`, `height`, все отступы (`margin`, `padding`).
*   **Примеры тегов:** `<div>`, `<p>`, `<h1>-<h6>`, `<section>`, `<ul>`, `<li>`.

**Пример 3: Блочные элементы**
```html
<p>Первый параграф (блочный).</p>
<p>Второй параграф (блочный). Он начинается с новой строки.</p>
```

#### **Строчные элементы (Display: Inline)**

*   **Поведение:** Располагаются в строку друг за другом, слева направо. Ширина и высота определяются содержимым. Нельзя явно задать `width` и `height`.
*   **Вертикальные отступы (`margin-top`, `margin-bottom`)** не работают и не отталкивают другие строчные элементы.
*   **Примеры тегов:** `<span>`, `<a>`, `<strong>`, `<em>`, `<img>` (особый случай, заменяемый элемент).

**Пример 4: Строчные элементы**
```html
<p>Это <strong>важный</strong> и <em>выделенный</em> текст внутри параграфа. Ссылка <a href="#">тут</a>.</p>
```
Здесь `<strong>`, `<em>` и `<a>` — строчные, они текут в строке, не ломая ее.

#### **Гибрид: `inline-block`**

Сочетает лучшее из обоих миров.
*   **Поведение:** Элемент располагается в строке (как inline), но ему можно задавать ширину, высоту и вертикальные отступы (как block).
*   **Идеально для:** Кнопок, иконок, элементов навигации, которые должны стоять в ряд.

**Пример 5: Создание горизонтального меню с `inline-block`**
```html
<nav>
  <a href="#">Главная</a>
  <a href="#">О нас</a>
  <a href="#">Контакты</a>
</nav>
```
```css
nav a {
  display: inline-block; /* Ключевое свойство! */
  padding: 10px 20px;
  background-color: #eee;
  margin-right: 5px;
  /* width и height теперь работают! */
}
```

---

### **4. Абсолютное позиционирование**

Свойство `position` позволяет изменить естественный поток документа.

*   `position: absolute;` — элемент **изымается из обычного потока**. Место, которое он занимал, схлопывается, как будто его там никогда не было. Позиционируется относительно своего **ближайшего позиционированного предка** (у которого `position` не `static`). Если такого нет — относительно всего документа (окна браузера).

**Что такое "контекст позиционирования"?**
Это "точка отсчета" для абсолютно спозиционированного элемента. Ею становится первый родительский элемент, у которого `position` установлено в `relative`, `absolute`, `fixed` или `sticky`. Чаще всего для этого родителю задают `position: relative;` без смещения.

**Пример 6: Иконка уведомления на кнопке**

```html
<button class="notification-btn">
  Сообщения
  <span class="badge">3</span>
</button>
```

```css
.notification-btn {
  position: relative; /* Создаем контекст позиционирования для .badge */
  padding: 10px 20px;
}

.badge {
  position: absolute; /* "Вырываем" элемент из потока */
  top: -5px;         /* Смещаем вверх от верхнего края .notification-btn */
  right: -5px;       /* Смещаем вправо от правого края .notification-btn */
  background-color: red;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  text-align: center;
  line-height: 20px;
}
```

#### **Свойство `z-index`**

Когда элементы накладываются друг на друга (как в примере выше), свойство `z-index` контролирует их порядок по оси Z (кто сверху, кто снизу). Работает **только для позиционированных элементов** (`position: absolute/relative/fixed`). Большее значение — выше элемент.

**Пример 7: Наложение с `z-index`**
```html
<div class="box box1">Box 1 (z-index: 1)</div>
<div class="box box2">Box 2 (z-index: 2) - я сверху!</div>
```
```css
.box {
  position: absolute;
  width: 200px;
  height: 200px;
}
.box1 {
  top: 50px;
  left: 50px;
  background-color: rgba(255,0,0,0.5);
  z-index: 1;
}
.box2 {
  top: 80px;
  left: 80px;
  background-color: rgba(0,0,255,0.5);
  z-index: 2; /* Этот блок будет поверх Box 1 */
}
```

---

### **5. Резюме**

*   **Box Model** — это основа верстки. Помните о разнице между `content-box` и `border-box`. Используйте `* { box-sizing: border-box; }` для своего же удобства.
*   **Block vs Inline** — понимание этого различия предотвращает множество ошибок в макете. Используйте `inline-block` для построения элементов в строку с полным контролем над размерами.
*   **Абсолютное позиционирование** — мощный инструмент для точного размещения элементов поверх других. Всегда помните о **контексте позиционирования** (задается через `position: relative` у родителя) и используйте `z-index` для управления слоями.

Эти три концепции тесно переплетены: вы управляете размерами "бокса" (Box Model), решаете, как эти "боксы" будут вести себя в потоке (Block/Inline), и, если нужно, "вырываете" их из потока для точного позиционирования (Absolute Positioning).

---

### **6. Контрольные вопросы**

1.  Опишите составляющие CSS Box Model от внутренней к внешней.
2.  Элемент имеет `width: 100px`, `padding: 10px` и `border: 5px solid black`. Какова его общая ширина при `box-sizing: content-box`? А при `box-sizing: border-box`?
3.  В чем главное отличие блочного элемента от строчного? Можно ли строчному элементу задать высоту?
4.  Как заставить несколько `<div>` элементов выстроиться в одну горизонтальную линию?
5.  Относительно чего позиционируется элемент с `position: absolute`?
6.  Вы создали абсолютно позиционированный элемент, но он позиционируется относительно всего документа, а не нужного родителя. В чем likely причина и как это исправить?
7.  Для чего используется свойство `z-index`? Будет ли оно работать для элемента с `position: static`?
8.  Спроектируйте разметку и стили для кнопки, внутри которой в правом верхнем углу будет находиться маленький красный кружок-уведомление (как в примере 6).