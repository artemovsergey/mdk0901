# Практическая работа Применение RxJs операторов в Angular

## Тема
Применение операторов RxJs для работы с потоками данных в Angular приложениях

## Цель
Освоить практические навыки использования различных операторов RxJs для трансформации, фильтрации и комбинирования потоков данных в Angular компонентах

## Теоретическая часть

### RxJs операторы
RxJs операторы - это функции, которые позволяют трансформировать, фильтровать и комбинировать потоки данных. Основные категории операторов:

1. **Создающие** (of, from, fromEvent)
2. **Трансформирующие** (map, pluck, scan)
3. **Фильтрующие** (filter, take, skip, debounceTime, distinctUntilChanged)
4. **Комбинирующие** (merge, concat, combineLatest, withLatestFrom)
5. **Утилиты** (tap, delay)

### Основные понятия
- **Observable** - поток данных, который может испускать значения over time
- **Observer** - объект с методами next, error, complete для обработки данных
- **Subscription** - результат подписки на Observable
- **Operators** - чистые функции для работы с потоками

## Ход работы

1. Создать новый Angular проект
2. Реализовать сервис для работы с данными
3. Создать компонент для отображения результатов
4. Применить различные RxJs операторы согласно варианту задания
5. Протестировать работу приложения
6. Сделать скриншоты результатов
7. Оформить README.md

## Практический пример

### Базовый пример с оператором map

```typescript
// data.service.ts
import { Injectable } from '@angular/core';
import { of } from 'rxjs';
import { map } from 'rxjs/operators';

@Injectable({
  providedIn: 'root'
})
export class DataService {
  private numbers = [1, 2, 3, 4, 5];

  getNumbers() {
    return of(this.numbers);
  }

  getSquaredNumbers() {
    return this.getNumbers().pipe(
      map(numbers => numbers.map(n => n * n))
    );
  }
}
```

```typescript
// app.component.ts
import { Component, OnInit } from '@angular/core';
import { DataService } from './data.service';

@Component({
  selector: 'app-root',
  template: `
    <h2>Исходные числа: {{ numbers }}</h2>
    <h2>Квадраты чисел: {{ squaredNumbers }}</h2>
  `
})
export class AppComponent implements OnInit {
  numbers: number[] = [];
  squaredNumbers: number[] = [];

  constructor(private dataService: DataService) {}

  ngOnInit() {
    this.dataService.getNumbers().subscribe(data => {
      this.numbers = data;
    });

    this.dataService.getSquaredNumbers().subscribe(data => {
      this.squaredNumbers = data;
    });
  }
}
```

## 15 вариантов заданий

### Вариант 1
**Задание:** Реализуйте поиск с использованием операторов `debounceTime` и `distinctUntilChanged`. Создайте input поле для поиска и отображайте результаты поиска с задержкой 300ms.

### Вариант 2
**Задание:** Используйте оператор `filter` для отображения только четных чисел из массива [1,2,3,4,5,6,7,8,9,10].

### Вариант 3
**Задание:** Примените оператор `map` для преобразования массива строк в массив их длин.

### Вариант 4
**Задание:** Используйте оператор `take` для получения только первых 3 элементов из потока данных.

### Вариант 5
**Задание:** Реализуйте комбинацию операторов `map` и `filter` для отображения квадратов только нечетных чисел.

### Вариант 6
**Задание:** Используйте оператор `scan` для подсчета суммы чисел в потоке.

### Вариант 7
**Задание:** Примените оператор `merge` для объединения двух потоков данных.

### Вариант 8
**Задание:** Используйте оператор `concat` для последовательного соединения потоков.

### Вариант 9
**Задание:** Реализуйте использование оператора `withLatestFrom` для комбинации текущего значения с последним значением другого потока.

### Вариант 10
**Задание:** Примените оператор `combineLatest` для комбинации последних значений нескольких потоков.

### Вариант 11
**Задание:** Используйте оператор `pluck` для извлечения конкретных свойств из объектов.

### Вариант 12
**Задание:** Реализуйте оператор `switchMap` для отмены предыдущих HTTP запросов при новом поиске.

### Вариант 13
**Задание:** Используйте оператор `catchError` для обработки ошибок в потоке.

### Вариант 14
**Задание:** Примените оператор `tap` для side effects (логирование) без изменения потока.

### Вариант 15
**Задание:** Используйте оператор `delay` для добавления задержки в поток данных.

## Критерии оценки

### 5 (Отлично)
- Полностью реализовано задание согласно варианту
- Код чистый, хорошо структурированный
- Применены правильные операторы RxJs
- Есть обработка ошибок
- README.md полностью оформлен со скриншотами

### 4 (Хорошо)
- Задание реализовано, но есть незначительные ошибки
- Код в основном чистый
- README.md оформлен, но может не хватать некоторых деталей

### 3 (Удовлетворительно)
- Основная функциональность реализована
- Есть существенные ошибки в коде
- README.md оформлен минимально

### 2 (Неудовлетворительно)
- Задание не выполнено или выполнено некорректно
- Код не работает или содержит критические ошибки
- README.md отсутствует или оформлен неполно

## Контрольные вопросы

1. Что такое Observable в RxJs?
2. Какие основные категории операторов RxJs вы знаете?
3. В чем разница между операторами map и filter?
4. Что делает оператор debounceTime и где он применяется?
5. Какой оператор используется для комбинации нескольких потоков?
6. В чем разница между merge и concat?
7. Что такое "cold" и "hot" observables?
8. Как отписаться от Observable в Angular?
9. Что такое Subject и какие его разновидности вы знаете?
10. Как обрабатывать ошибки в RxJs потоках?

---

# Пример README.md для варианта 1

```markdown
# Практическая работа №X: Применение RxJs операторов в Angular

**Номер варианта:** 1  
**Студент:** [ФИО]  
**Группа:** [Номер группы]

## Задание
Реализуйте поиск с использованием операторов `debounceTime` и `distinctUntilChanged`. Создайте input поле для поиска и отображайте результаты поиска с задержкой 300ms.

## Реализация

### Сервис данных
```typescript
// search.service.ts
import { Injectable } from '@angular/core';
import { BehaviorSubject, of } from 'rxjs';
import { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';

@Injectable({
  providedIn: 'root'
})
export class SearchService {
  private searchSubject = new BehaviorSubject<string>('');
  
  setSearchTerm(term: string) {
    this.searchSubject.next(term);
  }

  getSearchResults() {
    return this.searchSubject.pipe(
      debounceTime(300),
      distinctUntilChanged(),
      switchMap(term => this.mockSearch(term))
    );
  }

  private mockSearch(term: string) {
    const mockData = ['apple', 'banana', 'orange', 'grape', 'melon'];
    const results = mockData.filter(item => 
      item.toLowerCase().includes(term.toLowerCase())
    );
    return of(results);
  }
}
```

### Компонент
```typescript
// search.component.ts
import { Component, OnInit } from '@angular/core';
import { SearchService } from '../search.service';

@Component({
  selector: 'app-search',
  template: `
    <div>
      <input 
        type="text" 
        placeholder="Search..." 
        (input)="onSearch($event)"
      >
      <ul>
        <li *ngFor="let result of searchResults">{{ result }}</li>
      </ul>
      <p *ngIf="searchResults.length === 0 && searchTerm">
        No results found for "{{ searchTerm }}"
      </p>
    </div>
  `
})
export class SearchComponent implements OnInit {
  searchResults: string[] = [];
  searchTerm: string = '';

  constructor(private searchService: SearchService) {}

  ngOnInit() {
    this.searchService.getSearchResults().subscribe(results => {
      this.searchResults = results;
    });
  }

  onSearch(event: any) {
    this.searchTerm = event.target.value;
    this.searchService.setSearchTerm(this.searchTerm);
  }
}
```

## Результат работы

### Скриншот 1: Начальное состояние
![Начальное состояние](images/initial-state.png)

### Скриншот 2: Результаты поиска
![Результаты поиска](images/search-results.png)

### Скриншот 3: Нет результатов
![Нет результатов](images/no-results.png)
```

## Структура репозитория
```
practical-work-rxjs/
├── src/
│   ├── app/
│   │   ├── components/
│   │   ├── services/
│   │   └── ...
│   └── ...
├── images/
│   ├── initial-state.png
│   ├── search-results.png
│   └── no-results.png
├── README.md
└── package.json
```

## Команды для развертывания в Gogs

```bash
# Создание репозитория
git init
git add .
git commit -m "Практическая работа: Применение RxJs операторов в Angular"
git remote add origin http://gogs-server/username/practical-work-rxjs.git
git push -u origin master
```