# Самостоятельная работа 5. Настройка tsconfig.json

## Тема
Настройка конфигурации TypeScript компилятора через файл `tsconfig.json`

## Цель
Освоить основные параметры конфигурации TypeScript, научиться настраивать процесс компиляции TypeScript в JavaScript для различных сценариев разработки.

## Теоретическая часть

### Что такое tsconfig.json?
`tsconfig.json` - это файл конфигурации TypeScript, который определяет параметры компиляции для проекта. Он позволяет настроить:
- Целевую версию JavaScript
- Модульную систему
- Strict-режимы
- Пути для входных и выходных файлов
- И многое другое

### Основные параметры:
- **target**: версия ECMAScript для компиляции (ES5, ES6, ES2015, etc.)
- **module**: система модулей (commonjs, amd, es2015, etc.)
- **strict**: включает все строгие проверки типов
- **outDir**: директория для скомпилированных файлов
- **rootDir**: корневая директория исходных файлов
- **include**: маски файлов для включения в компиляцию
- **exclude**: маски файлов для исключения из компиляции

## Ход работы

1. Создать базовую структуру проекта
2. Инициализировать TypeScript конфигурацию
3. Настроить tsconfig.json согласно варианту задания
4. Создать примеры TypeScript кода
5. Проверить компиляцию и работу проекта
6. Сделать скриншоты результатов
7. Оформить README.md

## Практический пример

### Базовый tsconfig.json:
```json
{
  "compilerOptions": {
    "target": "ES5",
    "module": "commonjs",
    "outDir": "./dist",
    "strict": true,
    "esModuleInterop": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

## 15 вариантов заданий

### Вариант 1
**Задание**: Настройте компиляцию TypeScript для целевой версии ES5 с системой модулей CommonJS. Включите все строгие проверки типов.

### Вариант 2
**Задание**: Настройте компиляцию для ES6 с модулями ES2015. Отключите строгий режим, но включите проверку на `null` и `undefined`.

### Вариант 3
**Задание**: Сконфигурируйте компилятор для генерации source maps и установите корневую директорию исходников как `src/`.

### Вариант 4
**Задание**: Настройте компиляцию с включенным декораторами и экспериментальными фичами. Целевая версия - ES2016.

### Вариант 5
**Задание**: Создайте конфигурацию для библиотеки с декларацией типов (.d.ts файлы) и отключенной генерацией JavaScript файлов.

### Вариант 6
**Задание**: Настройте компиляцию только для файлов в папке `app/` исключая тестовые файлы (`*.test.ts`).

### Вариант 7
**Задание**: Сконфигурируйте компилятор для использования путей алиасов (`@/*` для папки `src/*`).

### Вариант 8
**Задание**: Настройте компиляцию с минимальной версией TypeScript 4.0 и включите все современные фичи.

### Вариант 9
**Задание**: Создайте конфигурацию для браузерного проекта с модулями AMD и генерацией source maps.

### Вариант 10
**Задание**: Настройте компиляцию с принудительным использованием типов и запретом неиспользуемых локальных переменных.

### Вариант 11
**Задание**: Сконфигурируйте компилятор для инкрементальной компиляции и установите директорию для кэша.

### Вариант 12
**Задание**: Настройте компиляцию с разрешением модулей через Node.js и включите ES модули.

### Вариант 13
**Задание**: Создайте конфигурацию для строгого режима с дополнительными проверками на связанные с `null` ошибки.

### Вариант 14
**Задание**: Настройте компиляцию с генерацией деклараций и карт источников для отладки.

### Вариант 15
**Задание**: Сконфигурируйте компилятор для использования JSON модулей и разрешения абсолютных путей.

## Структура проекта
```
project-folder/
├── index.html
├── styles.css
├── index.js
├── tsconfig.json
├── src/
│   └── main.ts
├── images/
│   ├── screenshot1.png
│   └── screenshot2.png
└── README.md
```

## Критерии оценки

**5 (Отлично)**:
- Полностью рабочая конфигурация tsconfig.json
- Все параметры правильно настроены согласно варианту
- Проект успешно компилируется без ошибок
- README.md полностью оформлен со скриншотами
- Код хорошо отформатирован и комментирован

**4 (Хорошо)**:
- Конфигурация в основном рабочая
- Незначительные ошибки в настройках
- Проект компилируется с предупреждениями
- README.md оформлен, но с небольшими недочетами

**3 (Удовлетворительно)**:
- Конфигурация частично рабочая
- Есть существенные ошибки в настройках
- Проект компилируется с ошибками
- README.md оформлен не полностью

**2 (Неудовлетворительно)**:
- Конфигурация не рабочая
- Критические ошибки в настройках
- Проект не компилируется
- README.md отсутствует или оформлен очень плохо

## Контрольные вопросы

1. Что такое tsconfig.json и для чего он нужен?
2. Какие основные разделы есть в tsconfig.json?
3. Как настроить целевую версию JavaScript для компиляции?
4. Что такое strict mode и какие проверки он включает?
5. Как исключить определенные файлы из компиляции?
6. Для чего нужны source maps?
7. Как настроить алиасы для путей импорта?
8. Чем отличается `include` от `files` в tsconfig.json?
9. Как настроить генерацию деклараций типов?
10. Что такое модульные системы и какие из них поддерживает TypeScript?

---

# Пример реализации для Варианта 1

## Структура файлов:

### index.html
```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeScript Config Practice</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Практическая работа: Настройка tsconfig.json</h1>
        <div id="output"></div>
    </div>
    <script src="dist/main.js"></script>
</body>
</html>
```

### styles.css
```css
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f5f5f5;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

h1 {
    color: #333;
    text-align: center;
}

#output {
    margin-top: 20px;
    padding: 15px;
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 4px;
}
```

### tsconfig.json (Вариант 1)
```json
{
  "compilerOptions": {
    "target": "ES5",
    "module": "commonjs",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "skipLibCheck": true
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "dist"
  ]
}
```

### src/main.ts
```typescript
interface User {
    id: number;
    name: string;
    email: string;
}

class UserManager {
    private users: User[] = [];

    addUser(user: User): void {
        this.users.push(user);
        this.displayUsers();
    }

    private displayUsers(): void {
        const outputElement = document.getElementById('output');
        if (outputElement) {
            outputElement.innerHTML = `
                <h3>Зарегистрированные пользователи:</h3>
                <ul>
                    ${this.users.map(user => `
                        <li>${user.name} (${user.email})</li>
                    `).join('')}
                </ul>
                <p>Всего пользователей: ${this.users.length}</p>
            `;
        }
    }
}

// Демонстрация работы
const userManager = new UserManager();

// Добавляем тестовых пользователей
userManager.addUser({ id: 1, name: 'Иван Иванов', email: 'ivan@example.com' });
userManager.addUser({ id: 2, name: 'Петр Петров', email: 'petr@example.com' });
userManager.addUser({ id: 3, name: 'Мария Сидорова', email: 'maria@example.com' });

console.log('TypeScript проект успешно скомпилирован и работает!');
```

### README.md
```markdown
# Практическая работа: Настройка tsconfig.json

## Вариант 1

### Задание
Настройте компиляцию TypeScript для целевой версии ES5 с системой модулей CommonJS. Включите все строгие проверки типов.

### Конфигурация tsconfig.json
```json
{
  "compilerOptions": {
    "target": "ES5",
    "module": "commonjs",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "skipLibCheck": true
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "dist"
  ]
}
```

### Результат компиляции
Проект успешно компилируется в JavaScript ES5. Сгенерированные файлы помещаются в папку `dist/`.

### Скриншоты

![Результат работы программы](images/screenshot1.png)

![Структура проекта](images/screenshot2.png)

### Запуск проекта
1. Установите зависимости: `npm install`
2. Скомпилируйте TypeScript: `tsc`
3. Откройте `index.html` в браузере
```

## Инструкция по развертыванию в Gogs

1. Создайте новый репозиторий в Gogs
2. Инициализируйте локальный git репозиторий:
```bash
git init
git add .
git commit -m "Практическая работа: Настройка tsconfig.json"
```

3. Добавьте remote репозиторий:
```bash
git remote add origin http://your-gogs-server/username/repo-name.git
```

4. Запушьте изменения:
```bash
git push -u origin master
```

