# Практическая работа 9. ООП на практике

## Тема
Объектно-ориентированное программирование в JavaScript

## Цель
Освоить основные принципы ООП (инкапсуляция, наследование, полиморфизм) на практике через создание системы управления библиотекой.

## Теоретическая часть

### Основные концепции ООП:

1. **Классы** - шаблоны для создания объектов
2. **Объекты** - экземпляры классов
3. **Инкапсуляция** - объединение данных и методов в одном объекте
4. **Наследование** - создание новых классов на основе существующих
5. **Полиморфизм** - использование методов с одинаковыми именами в разных классах

### Синтаксис классов в JavaScript:

```javascript
class ClassName {
  constructor(parameters) {
    // инициализация свойств
  }
  
  methodName() {
    // логика метода
  }
}
```

## Практический пример

```javascript
// Базовый класс Книга
class Book {
  constructor(title, author, year, isbn) {
    this.title = title;
    this.author = author;
    this.year = year;
    this.isbn = isbn;
    this.isAvailable = true;
  }
  
  // Метод для взятия книги
  borrow() {
    if (this.isAvailable) {
      this.isAvailable = false;
      return true;
    }
    return false;
  }
  
  // Метод для возврата книги
  returnBook() {
    this.isAvailable = true;
  }
  
  // Геттер для получения информации о книге
  get info() {
    return `${this.title} (${this.author}, ${this.year}) - ${this.isAvailable ? 'Доступна' : 'Выдана'}`;
  }
}

// Класс Библиотека, который использует книги
class Library {
  constructor(name) {
    this.name = name;
    this.books = [];
  }
  
  // Добавление книги в библиотеку
  addBook(book) {
    this.books.push(book);
  }
  
  // Поиск книги по названию
  findBook(title) {
    return this.books.find(book => book.title.toLowerCase() === title.toLowerCase());
  }
  
  // Получение списка доступных книг
  getAvailableBooks() {
    return this.books.filter(book => book.isAvailable);
  }
}

// Использование классов
const myLibrary = new Library("Главная библиотека");
const book1 = new Book("JavaScript для начинающих", "Иван Иванов", 2023, "123-456");
const book2 = new Book("Продвинутый JavaScript", "Петр Петров", 2022, "789-012");

myLibrary.addBook(book1);
myLibrary.addBook(book2);

console.log(book1.info); // JavaScript для начинающих (Иван Иванов, 2023) - Доступна
```

## Ход работы

1. Создайте базовую структуру файлов (index.html, styles.css, index.js)
2. Реализуйте классы согласно вашему варианту задания
3. Создайте пользовательский интерфейс для взаимодействия с объектами
4. Протестируйте функциональность
5. Сделайте скриншоты работающей программы
6. Оформите README.md
7. Загрузите в Gogs

## Варианты заданий

**Вариант 1:** Система управления студентами (Student, Group классы)

**Вариант 2:** Система банковских счетов (Account, Bank классы)

**Вариант 3:** Система управления задачами (Task, TaskManager классы)

**Вариант 4:** Система интернет-магазина (Product, Cart классы)

**Вариант 5:** Система управления сотрудниками (Employee, Department классы)

**Вариант 6:** Система бронирования отелей (Room, Hotel классы)

**Вариант 7:** Система управления автомобилями (Car, Garage классы)

**Вариант 8:** Система рецептов (Recipe, Cookbook классы)

**Вариант 9:** Система управления проектами (Project, Team классы)

**Вариант 10:** Система кинотеатра (Movie, Cinema классы)

**Вариант 11:** Система социальной сети (User, Post классы)

**Вариант 12:** Система управления финансами (Transaction, Wallet классы)

**Вариант 13:** Система управления учебными курсами (Course, Student классы)

**Вариант 14:** Система управления складом (Product, Warehouse классы)

**Вариант 15:** Система управления мероприятиями (Event, Calendar классы)

## Критерии оценки

**5 (Отлично):**
- Полная реализация всех требований задания
- Корректная работа всех методов
- Чистый и хорошо структурированный код
- Полностью рабочий интерфейс
- Правильное оформление README.md

**4 (Хорошо):**
- Реализованы основные требования
- Незначительные ошибки в работе методов
- Удовлетворительное качество кода
- Интерфейс работает с небольшими недочетами

**3 (Удовлетворительно):**
- Реализована базовая функциональность
- Есть существенные ошибки в логике
- Код требует улучшения структуры
- Интерфейс работает частично

**2 (Неудовлетворительно):**
- Задание не выполнено
- Критические ошибки в коде
- Программа не работает

## Контрольные вопросы

1. Что такое класс и объект в ООП?
2. В чем разница между классом и объектом?
3. Что такое конструктор класса?
4. Какие принципы ООП вы знаете?
5. Что такое инкапсуляция и как она реализована в вашей работе?
6. Как создаются методы в классах JavaScript?
7. Что такое геттеры и сеттеры?
8. Как осуществляется наследование в JavaScript?
9. Что такое полиморфизм?
10. Какие преимущества дает использование ООП?

---

# Пример реализации для Варианта 1

## Файловая структура:
```
practical-work-oop/
├── index.html
├── styles.css
├── index.js
├── images/
│   ├── screenshot1.png
│   └── screenshot2.png
└── readme.md
```

### index.html
```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Система управления студентами - ООП Практика</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Система управления студентами</h1>
        
        <div class="input-section">
            <h2>Добавить студента</h2>
            <input type="text" id="studentName" placeholder="Имя студента">
            <input type="number" id="studentAge" placeholder="Возраст">
            <input type="text" id="studentGroup" placeholder="Группа">
            <button onclick="addStudent()">Добавить студента</button>
        </div>

        <div class="group-section">
            <h2>Создать группу</h2>
            <input type="text" id="groupName" placeholder="Название группы">
            <button onclick="createGroup()">Создать группу</button>
        </div>

        <div class="display-section">
            <h2>Студенты</h2>
            <div id="studentsList"></div>
            
            <h2>Группы</h2>
            <div id="groupsList"></div>
        </div>
    </div>

    <script src="index.js"></script>
</body>
</html>
```

### styles.css
```css
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f4f4f4;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

h1 {
    text-align: center;
    margin-bottom: 30px;
    color: #2c3e50;
}

.input-section, .group-section {
    background: white;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.input-section h2, .group-section h2 {
    margin-bottom: 15px;
    color: #34495e;
}

input {
    padding: 10px;
    margin: 5px;
    border: 1px solid #ddd;
    border-radius: 4px;
    width: 200px;
}

button {
    padding: 10px 20px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin: 5px;
}

button:hover {
    background: #2980b9;
}

.display-section {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.student-card, .group-card {
    border: 1px solid #ddd;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    background: #f9f9f9;
}

.student-card h3, .group-card h3 {
    color: #2c3e50;
    margin-bottom: 10px;
}
```

### index.js
```javascript
// Класс Студент
class Student {
    constructor(name, age, group) {
        this.name = name;
        this.age = age;
        this.group = group;
        this.grades = [];
        this.isActive = true;
    }

    // Метод для добавления оценки
    addGrade(grade) {
        if (grade >= 1 && grade <= 5) {
            this.grades.push(grade);
            return true;
        }
        return false;
    }

    // Метод для расчета среднего балла
    getAverageGrade() {
        if (this.grades.length === 0) return 0;
        const sum = this.grades.reduce((total, grade) => total + grade, 0);
        return (sum / this.grades.length).toFixed(2);
    }

    // Геттер для информации о студенте
    get info() {
        return `${this.name} (${this.age} лет) - Группа: ${this.group} | Средний балл: ${this.getAverageGrade()} | ${this.isActive ? 'Активен' : 'Неактивен'}`;
    }

    // Метод для отчисления
    expel() {
        this.isActive = false;
    }

    // Метод для восстановления
    reinstate() {
        this.isActive = true;
    }
}

// Класс Группа
class Group {
    constructor(name) {
        this.name = name;
        this.students = [];
        this.maxStudents = 30;
    }

    // Метод для добавления студента в группу
    addStudent(student) {
        if (this.students.length < this.maxStudents) {
            student.group = this.name;
            this.students.push(student);
            return true;
        }
        return false;
    }

    // Метод для удаления студента из группы
    removeStudent(studentName) {
        const index = this.students.findIndex(student => 
            student.name.toLowerCase() === studentName.toLowerCase()
        );
        if (index !== -1) {
            this.students.splice(index, 1);
            return true;
        }
        return false;
    }

    // Метод для поиска студента по имени
    findStudent(name) {
        return this.students.find(student => 
            student.name.toLowerCase().includes(name.toLowerCase())
        );
    }

    // Геттер для количества студентов
    get studentCount() {
        return this.students.length;
    }

    // Геттер для информации о группе
    get info() {
        const activeStudents = this.students.filter(student => student.isActive);
        const averageGrade = activeStudents.length > 0 
            ? (activeStudents.reduce((sum, student) => 
                sum + parseFloat(student.getAverageGrade()), 0) / activeStudents.length).toFixed(2)
            : '0.00';
        
        return `Группа: ${this.name} | Студентов: ${this.studentCount}/${this.maxStudents} | Средний балл: ${averageGrade}`;
    }

    // Метод для получения списка активных студентов
    getActiveStudents() {
        return this.students.filter(student => student.isActive);
    }
}

// Глобальные переменные для хранения данных
let students = [];
let groups = [];

// Функция для добавления студента
function addStudent() {
    const name = document.getElementById('studentName').value;
    const age = parseInt(document.getElementById('studentAge').value);
    const group = document.getElementById('studentGroup').value;

    if (name && age && group) {
        const student = new Student(name, age, group);
        students.push(student);
        
        // Добавляем студента в соответствующую группу
        let existingGroup = groups.find(g => g.name === group);
        if (!existingGroup) {
            existingGroup = new Group(group);
            groups.push(existingGroup);
        }
        existingGroup.addStudent(student);
        
        updateDisplay();
        clearInputs();
    } else {
        alert('Пожалуйста, заполните все поля!');
    }
}

// Функция для создания группы
function createGroup() {
    const groupName = document.getElementById('groupName').value;
    
    if (groupName) {
        if (!groups.find(g => g.name === groupName)) {
            const group = new Group(groupName);
            groups.push(group);
            updateDisplay();
            document.getElementById('groupName').value = '';
        } else {
            alert('Группа с таким названием уже существует!');
        }
    } else {
        alert('Пожалуйста, введите название группы!');
    }
}

// Функция для обновления отображения
function updateDisplay() {
    const studentsList = document.getElementById('studentsList');
    const groupsList = document.getElementById('groupsList');
    
    // Обновляем список студентов
    studentsList.innerHTML = '';
    students.forEach((student, index) => {
        const studentDiv = document.createElement('div');
        studentDiv.className = 'student-card';
        studentDiv.innerHTML = `
            <h3>${student.name}</h3>
            <p>Возраст: ${student.age} | Группа: ${student.group}</p>
            <p>Средний балл: ${student.getAverageGrade()} | Статус: ${student.isActive ? 'Активен' : 'Отчислен'}</p>
            <button onclick="addGradeToStudent(${index})">Добавить оценку</button>
            <button onclick="toggleStudentStatus(${index})">${student.isActive ? 'Отчислить' : 'Восстановить'}</button>
        `;
        studentsList.appendChild(studentDiv);
    });
    
    // Обновляем список групп
    groupsList.innerHTML = '';
    groups.forEach(group => {
        const groupDiv = document.createElement('div');
        groupDiv.className = 'group-card';
        groupDiv.innerHTML = `
            <h3>${group.name}</h3>
            <p>${group.info}</p>
            <div>
                <strong>Студенты:</strong>
                <ul>
                    ${group.getActiveStudents().map(student => 
                        `<li>${student.name} (средний балл: ${student.getAverageGrade()})</li>`
                    ).join('')}
                </ul>
            </div>
        `;
        groupsList.appendChild(groupDiv);
    });
}

// Функция для добавления оценки студенту
function addGradeToStudent(index) {
    const grade = prompt('Введите оценку (1-5):');
    if (grade && students[index].addGrade(parseInt(grade))) {
        updateDisplay();
    } else {
        alert('Некорректная оценка!');
    }
}

// Функция для изменения статуса студента
function toggleStudentStatus(index) {
    if (students[index].isActive) {
        students[index].expel();
    } else {
        students[index].reinstate();
    }
    updateDisplay();
}

// Функция для очистки полей ввода
function clearInputs() {
    document.getElementById('studentName').value = '';
    document.getElementById('studentAge').value = '';
    document.getElementById('studentGroup').value = '';
}

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    // Добавляем тестовые данные
    const student1 = new Student('Иван Петров', 20, 'ИТ-21');
    student1.addGrade(5);
    student1.addGrade(4);
    student1.addGrade(5);
    
    const student2 = new Student('Мария Сидорова', 19, 'ИТ-21');
    student2.addGrade(4);
    student2.addGrade(3);
    student2.addGrade(5);
    
    students.push(student1, student2);
    
    const group1 = new Group('ИТ-21');
    group1.addStudent(student1);
    group1.addStudent(student2);
    
    groups.push(group1);
    
    updateDisplay();
});
```

### README.md (пример для варианта 1)
```markdown
# Практическая работа №X: ООП на практике

**Название:** Система управления студентами

**Вариант:** 1

## Задание
Разработать систему управления студентами с использованием принципов ООП. 
Реализовать классы Student и Group с методами для управления студентами и группами.

### Требования:

#### Класс Student должен содержать:
- Свойства: name, age, group, grades[], isActive
- Методы: addGrade(), getAverageGrade(), expel(), reinstate()
- Геттер: info

#### Класс Group должен содержать:
- Свойства: name, students[], maxStudents
- Методы: addStudent(), removeStudent(), findStudent(), getActiveStudents()
- Геттеры: studentCount, info

## Реализация

### Основной код классов:

```javascript
class Student {
    constructor(name, age, group) {
        this.name = name;
        this.age = age;
        this.group = group;
        this.grades = [];
        this.isActive = true;
    }

    addGrade(grade) {
        if (grade >= 1 && grade <= 5) {
            this.grades.push(grade);
            return true;
        }
        return false;
    }

    getAverageGrade() {
        if (this.grades.length === 0) return 0;
        const sum = this.grades.reduce((total, grade) => total + grade, 0);
        return (sum / this.grades.length).toFixed(2);
    }

    get info() {
        return `${this.name} (${this.age} лет) - Группа: ${this.group} | Средний балл: ${this.getAverageGrade()} | ${this.isActive ? 'Активен' : 'Неактивен'}`;
    }

    expel() {
        this.isActive = false;
    }

    reinstate() {
        this.isActive = true;
    }
}
```

## Скриншоты работы программы

### Главный интерфейс
![Главный интерфейс](images/screenshot1.png)

### Добавление студентов и групп
![Добавление данных](images/screenshot2.png)

## Инструкция по запуску
1. Откройте файл index.html в браузере
2. Используйте форму для добавления студентов
3. Создавайте группы и добавляйте в них студентов
4. Управляйте статусами студентов и добавляйте оценки

## Принципы ООП, использованные в работе:
- **Инкапсуляция**: данные и методы объединены в классах
- **Наследование**: может быть расширено для создания специализированных классов
- **Полиморфизм**: методы могут быть переопределены в дочерних классах
```