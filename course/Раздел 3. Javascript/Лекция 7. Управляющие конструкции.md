# Лекция 7. Управляющие конструкции в JavaScript

**Цель:** Научиться управлять потоком выполнения программы с помощью условных операторов и циклов

### **Тема: «Управляющие конструкции: Принятие решений и повторение действий в JavaScript»**

---

### **План лекции**

1.  **Введение в управляющие конструкции**
    *   Что такое поток выполнения программы?
    *   Зачем нужны управляющие конструкции?

2.  **Условные операторы**
    *   Оператор `if...else` и `else if`.
    *   Тернарный оператор.
    *   Оператор `switch`.

3.  **Циклы**
    *   Цикл `while` и `do...while`.
    *   Цикл `for`.
    *   Ключевые слова `break` и `continue`.

4.  **Практическое применение**
    *   Примеры из реальной практики фронтенд-разработки.

---

### **Содержание лекции (Детализация)**

#### **1. Введение в управляющие конструкции**

По умолчанию код в JavaScript выполняется сверху вниз, строка за строкой. **Управляющие конструкции** — это конструкции языка, которые позволяют изменять этот линейный поток, чтобы программа могла:
*   **Принимать решения** (выполнять разный код в зависимости от условий).
*   **Повторять действия** несколько раз без дублирования кода.

Без них любая программа была бы простым линейным списком инструкций.

#### **2. Условные операторы**

**Оператор `if...else`**

Самая распространенная конструкция для принятия решений.

```javascript
// Простой if
let temperature = 25;

if (temperature > 30) {
  console.log("На улице жарко!");
}
// В консоль ничего не выведется, так как условие (25 > 30) - false

// if...else
let isRaining = true;

if (isRaining) {
  console.log("Возьми зонт!");
} else {
  console.log("Зонт не нужен.");
}
// Выведет: "Возьми зонт!"

// if...else if...else (несколько условий)
let time = 14;

if (time < 12) {
  console.log("Доброе утро!");
} else if (time < 18) {
  console.log("Добрый день!"); // Это условие выполнится
} else {
  console.log("Добрый вечер!");
}
// Выведет: "Добрый день!"
```

**Тернарный оператор (`?`)**

Краткая форма записи для простого `if...else`. Полезен для присвоения значений переменным.

```javascript
// Синтаксис: условие ? значение_если_true : значение_если_false

let age = 20;
let message = age >= 18 ? "Вы совершеннолетний" : "Вы несовершеннолетний";

console.log(message); // "Вы совершеннолетний"

// Эквивалент с if...else:
// if (age >= 18) {
//   message = "Вы совершеннолетний";
// } else {
//   message = "Вы несовершеннолетний";
// }
```

**Оператор `switch`**

Используется для проверки одной переменной на равенство с несколькими значениями. Более читаемая альтернатива длинной цепочке `else if`.

```javascript
let dayOfWeek = "Среда";
let activity;

switch (dayOfWeek) {
  case "Понедельник":
    activity = "Планерка";
    break; // `break` критически важен для выхода из switch!
  case "Вторник":
    activity = "Изучение JavaScript";
    break;
  case "Среда":
    activity = "Совещание";
    break;
  case "Четверг":
    activity = "Код-ревью";
    break;
  case "Пятница":
    activity = "Подведение итогов";
    break;
  default: // Блок `default` выполнится, если ни один case не подошел
    activity = "Выходной!";
    break;
}

console.log(`Сегодня: ${activity}`); // "Сегодня: Совещание"
```

*   **Важно!** Если забыть `break`, выполнение "провалится" на следующий `case`, даже если его условие не совпадает.

#### **3. Циклы**

**Цикл `while`**

Выполняет код, пока условие истинно (`true`). Условие проверяется **перед** каждой итерацией.

```javascript
let counter = 1;

while (counter <= 5) {
  console.log(`Итерация номер: ${counter}`);
  counter++; // Увеличиваем counter на 1. Без этого цикла был бы бесконечным!
}
// Выведет: Итерация номер: 1, 2, 3, 4, 5
```

**Цикл `do...while`**

Похож на `while`, но условие проверяется **после** выполнения тела цикла. Это гарантирует, что цикл выполнится **хотя бы один раз**.

```javascript
let userInput;
do {
  userInput = prompt("Введите 'yes' для выхода:"); // prompt показывает диалоговое окно
} while (userInput !== 'yes');

console.log("Наконец-то!");
```

**Цикл `for`**

Самый распространенный цикл. Объединяет инициализацию счетчика, условие и изменение счетчика в одной строке.

```javascript
// Синтаксис: for(инициализация; условие; финальное_выражение) { ... }

for (let i = 0; i < 5; i++) {
  console.log(`i = ${i}`);
}
// Выведет: i = 0, i = 1, i = 2, i = 3, i = 4

// Разберем по шагам:
// 1. let i = 0; - выполняется один раз при входе в цикл.
// 2. i < 5; - проверяется перед каждой итерацией. Если false - цикл прекращается.
// 3. console.log(...); - тело цикла, выполняется если условие true.
// 4. i++ - выполняется после каждой итерации (увеличивает i на 1).
// 5. Возврат к шагу 2.
```

**Ключевые слова `break` и `continue`**

*   **`break`** — немедленно полностью прерывает выполнение цикла (или `switch`).

    ```javascript
    for (let i = 0; i < 10; i++) {
      if (i === 5) {
        break; // Цикл остановится, когда i станет равным 5
      }
      console.log(i);
    }
    // Выведет: 0, 1, 2, 3, 4
    ```

*   **`continue`** — прерывает **текущую** итерацию цикла и переходит к следующей.

    ```javascript
    for (let i = 0; i < 5; i++) {
      if (i === 2) {
        continue; // Пропустит итерацию с i = 2
      }
      console.log(i);
    }
    // Выведет: 0, 1, 3, 4
    ```

#### **4. Практическое применение во фронтенде**

Управляющие конструкции используются буквально в каждом скрипте.

**Пример 1: Валидация формы**
```javascript
// if...else
let email = "user@example.com";
let password = "123";

if (email.length === 0) {
  console.error("Поле email не может быть пустым!");
} else if (password.length < 6) {
  console.error("Пароль должен быть не менее 6 символов!");
} else {
  console.log("Форма отправлена на сервер!");
  // Здесь был бы код для отправки данных
}
```

**Пример 2: Динамическое изменение интерфейса (с использованием DOM)**
```javascript
// Предположим, у нас есть кнопка с id="themeToggle"
let isDarkTheme = false;

// При клике на кнопку (это событие мы изучим позже)
function toggleTheme() {
  if (isDarkTheme) {
    // Переключаем на светлую тему
    document.body.style.backgroundColor = "white";
    document.body.style.color = "black";
    isDarkTheme = false;
  } else {
    // Переключаем на темную тему
    document.body.style.backgroundColor = "black";
    document.body.style.color = "white";
    isDarkTheme = true;
  }
}
// toggleTheme() использует условие, чтобы решить, какой код выполнить.
```

**Пример 3: Работа с массивами (цикл `for`)**
```javascript
let products = ["Ноутбук", "Мышь", "Клавиатура", "Монитор"];

// for - классический способ перебора массива
for (let i = 0; i < products.length; i++) {
  console.log(`Товар: ${products[i]}`);
}
// Выведет список всех товаров
```

---

### **Резюме**

Сегодня мы научились управлять ходом выполнения программы:
*   **Условные операторы** (`if...else`, `switch`, тернарный оператор) позволяют выполнять разный код в зависимости от условий. Это — **принятие решений**.
*   **Циклы** (`while`, `do...while`, `for`) позволяют повторять блок кода многократно. Это — **автоматизация повторений**.
*   Ключевые слова `break` и `continue` дают тонкий контроль над работой циклов.
*   Все эти конструкции являются фундаментом для создания любой сложной логики в ваших будущих веб-приложениях.

**Ключевой вывод:** Без управляющих конструкций программы были бы статичными и неинтерактивными. С ними вы можете создавать логику, которая реагирует на действия пользователя и данные.

---

### **Контрольные вопросы**

1.  Напишите код, который проверяет переменную `number`. Если число положительное, выведите "Положительное", если отрицательное — "Отрицательное", если ноль — "Ноль".
2.  Перепишите следующее условие `if` с использованием тернарного оператора:
    ```javascript
    let access;
    if (age > 18) {
      access = "разрешен";
    } else {
      access = "запрещен";
    }
    ```
3.  В чем основное различие между циклом `while` и `do...while`?
4.  Напишите цикл `for`, который выводит в консоль все четные числа от 2 до 10.
5.  Что выведет в консоль следующий код и почему?
    ```javascript
    for (let i = 0; i < 3; i++) {
      if (i === 1) continue;
      console.log(i);
    }
    ```
6.  **Сценарий:** Пользователь вводит число через `prompt`. Ваша программа должна продолжать запрашивать число, пока пользователь не введет число больше 100. Какой цикл вы для этого используете и почему? Напишите примерный код.