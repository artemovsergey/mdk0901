# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ8: –°–µ—Ä–≤–∏—Å—ã –∏ Dependency Injection –≤ Angular

### **–¢–µ–º–∞:** –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π

### **–¶–µ–ª—å:** 
–ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –≤ Angular –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –û—Å–≤–æ–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã Dependency Injection, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

### **–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å:**

**–°–µ—Ä–≤–∏—Å—ã** - —ç—Ç–æ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, —Ä–∞–±–æ—Ç–∞—é—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

**–ü—Ä–∏–Ω—Ü–∏–ø—ã —Å–µ—Ä–≤–∏—Å–æ–≤:**
- **Single Responsibility** - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **Reusability** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **Testability** - –ª–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Dependency Injection** - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞:**
```typescript
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root' // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
})
export class DataService {
  constructor() { }
}
```

**Dependency Injection:**
```typescript
// –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
constructor(private dataService: DataService) {}

// –ß–µ—Ä–µ–∑ inject() —Ñ—É–Ω–∫—Ü–∏—é
private dataService = inject(DataService);
```

**–£—Ä–æ–≤–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤:**
- `providedIn: 'root'` - —Å–∏–Ω–≥–ª—Ç–æ–Ω –Ω–∞ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `providedIn: 'platform'` - —Å–∏–Ω–≥–ª—Ç–æ–Ω –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –º–æ–¥—É–ª–µ
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

### **–•–æ–¥ —Ä–∞–±–æ—Ç—ã:**

1. –°–æ–∑–¥–∞—Ç—å Angular –ø—Ä–æ–µ–∫—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
2. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
6. –°–æ–∑–¥–∞—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
7. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
8. –û—Ñ–æ—Ä–º–∏—Ç—å README.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã

### **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:**

**1. –ë–∞–∑–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:**
```typescript
// user.service.ts
import { Injectable, signal, computed, inject } from '@angular/core';
import { HttpClient, HttpErrorResponse } from '@angular/common/http';
import { catchError, Observable, throwError, tap } from 'rxjs';

export interface User {
  id: number;
  name: string;
  email: string;
  role: 'user' | 'admin' | 'moderator';
  avatar: string;
  isActive: boolean;
  createdAt: Date;
  lastLogin?: Date;
}

export interface UserStats {
  total: number;
  active: number;
  admins: number;
  recentlyActive: number;
}

@Injectable({
  providedIn: 'root'
})
export class UserService {
  private http = inject(HttpClient);
  private apiUrl = 'api/users';

  // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Signals
  private usersSignal = signal<User[]>([]);
  private loadingSignal = signal(false);
  private errorSignal = signal<string | null>(null);

  // –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
  users = this.usersSignal.asReadonly();
  isLoading = this.loadingSignal.asReadonly();
  error = this.errorSignal.asReadonly();

  userStats = computed((): UserStats => {
    const users = this.usersSignal();
    const now = new Date();
    const twentyFourHoursAgo = new Date(now.getTime() - 24 * 60 * 60 * 1000);

    return {
      total: users.length,
      active: users.filter(user => user.isActive).length,
      admins: users.filter(user => user.role === 'admin').length,
      recentlyActive: users.filter(user => 
        user.lastLogin && new Date(user.lastLogin) > twentyFourHoursAgo
      ).length
    };
  });

  activeUsers = computed(() => 
    this.usersSignal().filter(user => user.isActive)
  );

  adminUsers = computed(() =>
    this.usersSignal().filter(user => user.role === 'admin')
  );

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  loadUsers(): Observable<User[]> {
    this.loadingSignal.set(true);
    this.errorSignal.set(null);

    return this.http.get<User[]>(this.apiUrl).pipe(
      tap(users => {
        this.usersSignal.set(users);
        this.loadingSignal.set(false);
      }),
      catchError(this.handleError.bind(this))
    );
  }

  getUserById(id: number): Observable<User> {
    this.loadingSignal.set(true);
    return this.http.get<User>(`${this.apiUrl}/${id}`).pipe(
      catchError(this.handleError.bind(this))
    );
  }

  createUser(userData: Omit<User, 'id' | 'createdAt'>): Observable<User> {
    const newUser: User = {
      ...userData,
      id: this.generateId(),
      createdAt: new Date()
    };

    return this.http.post<User>(this.apiUrl, newUser).pipe(
      tap(user => {
        this.usersSignal.update(users => [...users, user]);
      }),
      catchError(this.handleError.bind(this))
    );
  }

  updateUser(updatedUser: User): Observable<User> {
    return this.http.put<User>(`${this.apiUrl}/${updatedUser.id}`, updatedUser).pipe(
      tap(user => {
        this.usersSignal.update(users =>
          users.map(u => u.id === user.id ? user : u)
        );
      }),
      catchError(this.handleError.bind(this))
    );
  }

  deleteUser(userId: number): Observable<void> {
    return this.http.delete<void>(`${this.apiUrl}/${userId}`).pipe(
      tap(() => {
        this.usersSignal.update(users =>
          users.filter(user => user.id !== userId)
        );
      }),
      catchError(this.handleError.bind(this))
    );
  }

  toggleUserStatus(userId: number): Observable<User> {
    const user = this.usersSignal().find(u => u.id === userId);
    if (!user) {
      return throwError(() => new Error('User not found'));
    }

    const updatedUser = { ...user, isActive: !user.isActive };
    return this.updateUser(updatedUser);
  }

  // –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  searchUsers(query: string): User[] {
    if (!query) return this.usersSignal();
    
    const lowerQuery = query.toLowerCase();
    return this.usersSignal().filter(user =>
      user.name.toLowerCase().includes(lowerQuery) ||
      user.email.toLowerCase().includes(lowerQuery) ||
      user.role.toLowerCase().includes(lowerQuery)
    );
  }

  getUsersByRole(role: User['role']): User[] {
    return this.usersSignal().filter(user => user.role === role);
  }

  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  private generateId(): number {
    const users = this.usersSignal();
    return users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1;
  }

  private handleError(error: HttpErrorResponse): Observable<never> {
    this.loadingSignal.set(false);
    
    let errorMessage = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö';
    
    if (error.error instanceof ErrorEvent) {
      // –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ—à–∏–±–∫–∞
      errorMessage = `–û—à–∏–±–∫–∞: ${error.error.message}`;
    } else {
      // –°–µ—Ä–≤–µ—Ä–Ω–∞—è –æ—à–∏–±–∫–∞
      switch (error.status) {
        case 404:
          errorMessage = '–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω';
          break;
        case 403:
          errorMessage = '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω';
          break;
        case 500:
          errorMessage = '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞';
          break;
        default:
          errorMessage = `–û—à–∏–±–∫–∞ ${error.status}: ${error.message}`;
      }
    }
    
    this.errorSignal.set(errorMessage);
    console.error('UserService error:', errorMessage);
    
    return throwError(() => new Error(errorMessage));
  }

  clearError(): void {
    this.errorSignal.set(null);
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  initializeWithMockData(): void {
    const mockUsers: User[] = [
      {
        id: 1,
        name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
        email: 'anna@example.com',
        role: 'admin',
        avatar: 'üë©‚Äçüíº',
        isActive: true,
        createdAt: new Date('2024-01-01'),
        lastLogin: new Date('2024-01-15')
      },
      {
        id: 2,
        name: '–ü–µ—Ç—Ä –°–∏–¥–æ—Ä–æ–≤',
        email: 'petr@example.com',
        role: 'user',
        avatar: 'üë®‚Äçüíª',
        isActive: true,
        createdAt: new Date('2024-01-05'),
        lastLogin: new Date('2024-01-14')
      },
      {
        id: 3,
        name: '–ú–∞—Ä–∏—è –ö–æ–∑–ª–æ–≤–∞',
        email: 'maria@example.com',
        role: 'moderator',
        avatar: 'üë©‚Äçüé®',
        isActive: false,
        createdAt: new Date('2024-01-10')
      }
    ];

    this.usersSignal.set(mockUsers);
  }
}
```

**2. –°–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```typescript
// app-state.service.ts
import { Injectable, signal, computed, inject } from '@angular/core';
import { User, UserService } from './user.service';

export interface AppState {
  currentUser: User | null;
  theme: 'light' | 'dark';
  language: string;
  sidebarOpen: boolean;
  notifications: Notification[];
}

export interface Notification {
  id: number;
  type: 'success' | 'error' | 'warning' | 'info';
  title: string;
  message: string;
  timestamp: Date;
  read: boolean;
}

@Injectable({
  providedIn: 'root'
})
export class AppStateService {
  private userService = inject(UserService);

  // Initial state
  private initialState: AppState = {
    currentUser: null,
    theme: 'light',
    language: 'ru',
    sidebarOpen: false,
    notifications: []
  };

  // State signals
  private state = signal<AppState>(this.initialState);

  // Selectors (computed values)
  currentUser = computed(() => this.state().currentUser);
  theme = computed(() => this.state().theme);
  language = computed(() => this.state().language);
  sidebarOpen = computed(() => this.state().sidebarOpen);
  notifications = computed(() => this.state().notifications);
  
  unreadNotifications = computed(() => 
    this.state().notifications.filter(n => !n.read)
  );

  isLoggedIn = computed(() => this.state().currentUser !== null);
  isAdmin = computed(() => 
    this.state().currentUser?.role === 'admin'
  );

  // Actions (methods to update state)
  setCurrentUser(user: User | null) {
    this.state.update(state => ({ ...state, currentUser: user }));
  }

  toggleTheme() {
    this.state.update(state => ({
      ...state,
      theme: state.theme === 'light' ? 'dark' : 'light'
    }));
  }

  setLanguage(language: string) {
    this.state.update(state => ({ ...state, language }));
  }

  toggleSidebar() {
    this.state.update(state => ({
      ...state,
      sidebarOpen: !state.sidebarOpen
    }));
  }

  addNotification(notification: Omit<Notification, 'id' | 'timestamp' | 'read'>) {
    const newNotification: Notification = {
      ...notification,
      id: Date.now(),
      timestamp: new Date(),
      read: false
    };

    this.state.update(state => ({
      ...state,
      notifications: [newNotification, ...state.notifications]
    }));

    // Auto-remove success notifications after 5 seconds
    if (notification.type === 'success') {
      setTimeout(() => {
        this.removeNotification(newNotification.id);
      }, 5000);
    }
  }

  removeNotification(notificationId: number) {
    this.state.update(state => ({
      ...state,
      notifications: state.notifications.filter(n => n.id !== notificationId)
    }));
  }

  markNotificationAsRead(notificationId: number) {
    this.state.update(state => ({
      ...state,
      notifications: state.notifications.map(n =>
        n.id === notificationId ? { ...n, read: true } : n
      )
    }));
  }

  markAllNotificationsAsRead() {
    this.state.update(state => ({
      ...state,
      notifications: state.notifications.map(n => ({ ...n, read: true }))
    }));
  }

  clearAllNotifications() {
    this.state.update(state => ({ ...state, notifications: [] }));
  }

  // Complex actions that involve multiple services
  async login(email: string, password: string): Promise<boolean> {
    try {
      // In a real app, this would be an HTTP call
      const users = this.userService.users();
      const user = users.find(u => u.email === email && u.isActive);
      
      if (user) {
        this.setCurrentUser(user);
        this.addNotification({
          type: 'success',
          title: '–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω',
          message: `–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.name}!`
        });
        return true;
      } else {
        this.addNotification({
          type: 'error',
          title: '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞',
          message: '–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å'
        });
        return false;
      }
    } catch (error) {
      this.addNotification({
        type: 'error',
        title: '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞',
        message: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞'
      });
      return false;
    }
  }

  logout() {
    this.setCurrentUser(null);
    this.addNotification({
      type: 'info',
      title: '–í—ã—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω',
      message: '–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã'
    });
  }

  // Persistence
  saveToLocalStorage() {
    const state = this.state();
    localStorage.setItem('appState', JSON.stringify({
      theme: state.theme,
      language: state.language,
      sidebarOpen: state.sidebarOpen
    }));
  }

  loadFromLocalStorage() {
    const saved = localStorage.getItem('appState');
    if (saved) {
      const parsedState = JSON.parse(saved);
      this.state.update(state => ({ ...state, ...parsedState }));
    }
  }

  // Reset state
  reset() {
    this.state.set(this.initialState);
  }
}
```

**3. –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API:**
```typescript
// api.service.ts
import { Injectable, inject } from '@angular/core';
import { HttpClient, HttpParams, HttpHeaders, HttpErrorResponse } from '@angular/common/http';
import { Observable, throwError, BehaviorSubject } from 'rxjs';
import { catchError, tap, finalize } from 'rxjs/operators';

export interface ApiRequestOptions {
  params?: { [key: string]: any };
  headers?: { [key: string]: string };
  responseType?: 'json' | 'text' | 'blob' | 'arraybuffer';
}

export interface ApiResponse<T> {
  data: T;
  message?: string;
  success: boolean;
  timestamp: Date;
}

@Injectable({
  providedIn: 'root'
})
export class ApiService {
  private http = inject(HttpClient);
  private baseUrl = 'https://api.example.com';

  // Global loading state
  private loadingSubject = new BehaviorSubject<boolean>(false);
  public loading$ = this.loadingSubject.asObservable();

  // Request counter for multiple requests
  private requestCount = 0;

  // Generic GET request
  get<T>(endpoint: string, options: ApiRequestOptions = {}): Observable<T> {
    this.startRequest();
    
    const url = `${this.baseUrl}/${endpoint}`;
    const httpOptions = this.createHttpOptions(options);

    return this.http.get<T>(url, httpOptions).pipe(
      tap(response => this.logRequest('GET', endpoint, response)),
      catchError(error => this.handleError(error, 'GET', endpoint)),
      finalize(() => this.endRequest())
    );
  }

  // Generic POST request
  post<T>(endpoint: string, data: any, options: ApiRequestOptions = {}): Observable<T> {
    this.startRequest();
    
    const url = `${this.baseUrl}/${endpoint}`;
    const httpOptions = this.createHttpOptions(options);

    return this.http.post<T>(url, data, httpOptions).pipe(
      tap(response => this.logRequest('POST', endpoint, response)),
      catchError(error => this.handleError(error, 'POST', endpoint)),
      finalize(() => this.endRequest())
    );
  }

  // Generic PUT request
  put<T>(endpoint: string, data: any, options: ApiRequestOptions = {}): Observable<T> {
    this.startRequest();
    
    const url = `${this.baseUrl}/${endpoint}`;
    const httpOptions = this.createHttpOptions(options);

    return this.http.put<T>(url, data, httpOptions).pipe(
      tap(response => this.logRequest('PUT', endpoint, response)),
      catchError(error => this.handleError(error, 'PUT', endpoint)),
      finalize(() => this.endRequest())
    );
  }

  // Generic DELETE request
  delete<T>(endpoint: string, options: ApiRequestOptions = {}): Observable<T> {
    this.startRequest();
    
    const url = `${this.baseUrl}/${endpoint}`;
    const httpOptions = this.createHttpOptions(options);

    return this.http.delete<T>(url, httpOptions).pipe(
      tap(response => this.logRequest('DELETE', endpoint, response)),
      catchError(error => this.handleError(error, 'DELETE', endpoint)),
      finalize(() => this.endRequest())
    );
  }

  // File upload
  uploadFile<T>(endpoint: string, file: File, additionalData: any = {}): Observable<T> {
    this.startRequest();
    
    const url = `${this.baseUrl}/${endpoint}`;
    const formData = new FormData();
    
    formData.append('file', file);
    Object.keys(additionalData).forEach(key => {
      formData.append(key, additionalData[key]);
    });

    return this.http.post<T>(url, formData).pipe(
      tap(response => this.logRequest('UPLOAD', endpoint, response)),
      catchError(error => this.handleError(error, 'UPLOAD', endpoint)),
      finalize(() => this.endRequest())
    );
  }

  // Private helper methods
  private createHttpOptions(options: ApiRequestOptions): { 
    params?: HttpParams; 
    headers?: HttpHeaders;
    responseType?: any;
  } {
    let httpParams = new HttpParams();
    let httpHeaders = new HttpHeaders();

    // Add params
    if (options.params) {
      Object.keys(options.params).forEach(key => {
        if (options.params![key] !== null && options.params![key] !== undefined) {
          httpParams = httpParams.set(key, options.params![key].toString());
        }
      });
    }

    // Add headers
    if (options.headers) {
      Object.keys(options.headers).forEach(key => {
        httpHeaders = httpHeaders.set(key, options.headers![key]);
      });
    }

    // Add auth token if available
    const token = localStorage.getItem('auth_token');
    if (token) {
      httpHeaders = httpHeaders.set('Authorization', `Bearer ${token}`);
    }

    return {
      params: httpParams,
      headers: httpHeaders,
      responseType: options.responseType || 'json'
    };
  }

  private startRequest(): void {
    this.requestCount++;
    if (this.requestCount === 1) {
      this.loadingSubject.next(true);
    }
  }

  private endRequest(): void {
    this.requestCount--;
    if (this.requestCount === 0) {
      this.loadingSubject.next(false);
    }
  }

  private logRequest(method: string, endpoint: string, response: any): void {
    console.log(`API ${method} ${endpoint}:`, response);
  }

  private handleError(error: HttpErrorResponse, method: string, endpoint: string): Observable<never> {
    console.error(`API ${method} ${endpoint} error:`, error);

    let errorMessage = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞';
    
    if (error.error instanceof ErrorEvent) {
      // Client-side error
      errorMessage = `–û—à–∏–±–∫–∞: ${error.error.message}`;
    } else {
      // Server-side error
      switch (error.status) {
        case 0:
          errorMessage = '–ù–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º';
          break;
        case 400:
          errorMessage = '–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å';
          break;
        case 401:
          errorMessage = '–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω';
          // Redirect to login or refresh token
          break;
        case 403:
          errorMessage = '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω';
          break;
        case 404:
          errorMessage = '–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω';
          break;
        case 500:
          errorMessage = '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞';
          break;
        default:
          errorMessage = `–û—à–∏–±–∫–∞ ${error.status}: ${error.message}`;
      }
    }

    // You could also show a notification here
    return throwError(() => new Error(errorMessage));
  }

  // Utility methods
  isLoading(): boolean {
    return this.loadingSubject.value;
  }

  resetLoading(): void {
    this.requestCount = 0;
    this.loadingSubject.next(false);
  }
}
```

**4. –°–µ—Ä–≤–∏—Å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:**
```typescript
// cache.service.ts
import { Injectable } from '@angular/core';

export interface CacheItem<T> {
  data: T;
  timestamp: number;
  expiresIn: number;
}

@Injectable({
  providedIn: 'root'
})
export class CacheService {
  private cache = new Map<string, CacheItem<any>>();
  private defaultExpiresIn = 5 * 60 * 1000; // 5 minutes

  set<T>(key: string, data: T, expiresIn: number = this.defaultExpiresIn): void {
    const cacheItem: CacheItem<T> = {
      data,
      timestamp: Date.now(),
      expiresIn
    };
    
    this.cache.set(key, cacheItem);
  }

  get<T>(key: string): T | null {
    const cacheItem = this.cache.get(key) as CacheItem<T>;
    
    if (!cacheItem) {
      return null;
    }

    if (this.isExpired(cacheItem)) {
      this.remove(key);
      return null;
    }

    return cacheItem.data;
  }

  remove(key: string): boolean {
    return this.cache.delete(key);
  }

  clear(): void {
    this.cache.clear();
  }

  clearExpired(): void {
    const now = Date.now();
    
    this.cache.forEach((value, key) => {
      if (this.isExpired(value)) {
        this.remove(key);
      }
    });
  }

  private isExpired(cacheItem: CacheItem<any>): boolean {
    return Date.now() - cacheItem.timestamp > cacheItem.expiresIn;
  }

  // Utility methods for common cache patterns
  getOrSet<T>(
    key: string, 
    factory: () => T, 
    expiresIn: number = this.defaultExpiresIn
  ): T {
    const cached = this.get<T>(key);
    
    if (cached !== null) {
      return cached;
    }

    const data = factory();
    this.set(key, data, expiresIn);
    
    return data;
  }

  async getOrSetAsync<T>(
    key: string,
    factory: () => Promise<T>,
    expiresIn: number = this.defaultExpiresIn
  ): Promise<T> {
    const cached = this.get<T>(key);
    
    if (cached !== null) {
      return cached;
    }

    const data = await factory();
    this.set(key, data, expiresIn);
    
    return data;
  }

  // Cache statistics
  getStats(): { total: number; expired: number } {
    let expired = 0;
    const now = Date.now();

    this.cache.forEach(item => {
      if (this.isExpired(item)) {
        expired++;
      }
    });

    return {
      total: this.cache.size,
      expired
    };
  }
}
```

**5. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
```typescript
// services-demo.component.ts
import { Component, inject, OnInit, OnDestroy, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { UserService, User } from '../services/user.service';
import { AppStateService } from '../services/app-state.service';
import { ApiService } from '../services/api.service';
import { CacheService } from '../services/cache.service';
import { Subscription } from 'rxjs';

@Component({
  selector: 'app-services-demo',
  templateUrl: './services-demo.component.html',
  styleUrls: ['./services-demo.component.css'],
  standalone: true,
  imports: [CommonModule, FormsModule]
})
export class ServicesDemoComponent implements OnInit, OnDestroy {
  // –ò–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
  private userService = inject(UserService);
  private appState = inject(AppStateService);
  private apiService = inject(ApiService);
  private cacheService = inject(CacheService);

  // –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  searchQuery = signal('');
  newUser = signal<Omit<User, 'id' | 'createdAt'>>({
    name: '',
    email: '',
    role: 'user',
    avatar: 'üë§',
    isActive: true
  });
  
  cacheKey = signal('demo-cache');
  cacheValue = signal('');
  cacheExpiresIn = signal(300000); // 5 –º–∏–Ω—É—Ç

  // –ü–æ–¥–ø–∏—Å–∫–∏
  private subscriptions: Subscription[] = [];

  // –ì–µ—Ç—Ç–µ—Ä—ã –¥–ª—è —à–∞–±–ª–æ–Ω–∞
  users = this.userService.users;
  isLoading = this.userService.isLoading;
  error = this.userService.error;
  userStats = this.userService.userStats;

  currentUser = this.appState.currentUser;
  theme = this.appState.theme;
  notifications = this.appState.notifications;
  unreadNotifications = this.appState.unreadNotifications;

  apiLoading = this.apiService.loading$;

  ngOnInit() {
    // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    this.loadUsers();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    this.userService.initializeWithMockData();

    // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    this.subscriptions.push(
      this.apiService.loading$.subscribe(loading => {
        console.log('API Loading:', loading);
      })
    );
  }

  ngOnDestroy() {
    // –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫
    this.subscriptions.forEach(sub => sub.unsubscribe());
  }

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  loadUsers() {
    this.userService.loadUsers().subscribe({
      next: (users) => {
        console.log('Users loaded:', users);
      },
      error: (error) => {
        console.error('Error loading users:', error);
      }
    });
  }

  createUser() {
    const userData = this.newUser();
    if (!userData.name || !userData.email) {
      this.appState.addNotification({
        type: 'warning',
        title: '–í–Ω–∏–º–∞–Ω–∏–µ',
        message: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ email'
      });
      return;
    }

    this.userService.createUser(userData).subscribe({
      next: (user) => {
        this.newUser.set({
          name: '',
          email: '',
          role: 'user',
          avatar: 'üë§',
          isActive: true
        });
        
        this.appState.addNotification({
          type: 'success',
          title: '–£—Å–ø–µ—Ö',
          message: `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.name} —Å–æ–∑–¥–∞–Ω`
        });
      },
      error: (error) => {
        this.appState.addNotification({
          type: 'error',
          title: '–û—à–∏–±–∫–∞',
          message: '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
        });
      }
    });
  }

  toggleUserStatus(userId: number) {
    this.userService.toggleUserStatus(userId).subscribe({
      next: (user) => {
        this.appState.addNotification({
          type: 'success',
          title: '–°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω',
          message: `–°—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${user.name} –æ–±–Ω–æ–≤–ª–µ–Ω`
        });
      },
      error: (error) => {
        this.appState.addNotification({
          type: 'error',
          title: '–û—à–∏–±–∫–∞',
          message: '–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
        });
      }
    });
  }

  deleteUser(userId: number) {
    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) {
      this.userService.deleteUser(userId).subscribe({
        next: () => {
          this.appState.addNotification({
            type: 'success',
            title: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω',
            message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω'
          });
        },
        error: (error) => {
          this.appState.addNotification({
            type: 'error',
            title: '–û—à–∏–±–∫–∞',
            message: '–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
          });
        }
      });
    }
  }

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  toggleTheme() {
    this.appState.toggleTheme();
  }

  toggleSidebar() {
    this.appState.toggleSidebar();
  }

  login() {
    this.appState.login('anna@example.com', 'password').then(success => {
      if (success) {
        console.log('Login successful');
      }
    });
  }

  logout() {
    this.appState.logout();
  }

  addTestNotification() {
    this.appState.addNotification({
      type: 'info',
      title: '–¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ',
      message: '–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π'
    });
  }

  markAllNotificationsAsRead() {
    this.appState.markAllNotificationsAsRead();
  }

  clearAllNotifications() {
    this.appState.clearAllNotifications();
  }

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫—ç—à–µ–º
  setCache() {
    const key = this.cacheKey();
    const value = this.cacheValue();
    
    if (key && value) {
      this.cacheService.set(key, value, this.cacheExpiresIn());
      this.appState.addNotification({
        type: 'success',
        title: '–ö—ç—à –æ–±–Ω–æ–≤–ª–µ–Ω',
        message: `–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ "${key}" —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –∫—ç—à–µ`
      });
    }
  }

  getCache() {
    const key = this.cacheKey();
    const value = this.cacheService.get(key);
    
    if (value) {
      this.cacheValue.set(value);
      this.appState.addNotification({
        type: 'success',
        title: '–ö—ç—à –∑–∞–≥—Ä—É–∂–µ–Ω',
        message: `–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ "${key}" –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ –∫—ç—à–∞`
      });
    } else {
      this.appState.addNotification({
        type: 'warning',
        title: '–ö—ç—à –Ω–µ –Ω–∞–π–¥–µ–Ω',
        message: `–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ "${key}" –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –∫—ç—à–µ`
      });
    }
  }

  clearCache() {
    const key = this.cacheKey();
    this.cacheService.remove(key);
    this.cacheValue.set('');
    
    this.appState.addNotification({
      type: 'info',
      title: '–ö—ç—à –æ—á–∏—â–µ–Ω',
      message: `–ö—ç—à –¥–ª—è –∫–ª—é—á–∞ "${key}" –æ—á–∏—â–µ–Ω`
    });
  }

  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  getFilteredUsers(): User[] {
    const query = this.searchQuery();
    return query ? this.userService.searchUsers(query) : this.users();
  }

  getRoleBadgeClass(role: string): string {
    switch (role) {
      case 'admin': return 'badge-danger';
      case 'moderator': return 'badge-warning';
      default: return 'badge-info';
    }
  }

  getStatusBadgeClass(isActive: boolean): string {
    return isActive ? 'badge-success' : 'badge-secondary';
  }
}
```

```html
<!-- services-demo.component.html -->
<div class="services-demo" [class.dark-theme]="theme() === 'dark'">
  <header class="demo-header">
    <h1>üõ†Ô∏è –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ Angular</h1>
    <div class="header-controls">
      <button (click)="toggleTheme()" class="btn-theme">
        {{ theme() === 'light' ? 'üåô' : '‚òÄÔ∏è' }} –¢–µ–º–∞
      </button>
      <button (click)="toggleSidebar()" class="btn-sidebar">
        üìä –ü–∞–Ω–µ–ª—å
      </button>
      @if (currentUser()) {
        <button (click)="logout()" class="btn-logout">
          üëã –í—ã–π—Ç–∏ ({{ currentUser()?.name }})
        </button>
      } @else {
        <button (click)="login()" class="btn-login">
          üîë –í–æ–π—Ç–∏
        </button>
      }
    </div>
  </header>

  <div class="demo-content">
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <section class="notifications-section">
      <h2>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ({{ unreadNotifications().length }})</h2>
      <div class="notification-controls">
        <button (click)="addTestNotification()" class="btn-primary">
          ‚ûï –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        </button>
        <button (click)="markAllNotificationsAsRead()" class="btn-secondary">
          üì≠ –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ
        </button>
        <button (click)="clearAllNotifications()" class="btn-danger">
          üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
        </button>
      </div>
      
      <div class="notifications-list">
        @for (notification of notifications(); track notification.id) {
          <div 
            class="notification" 
            [class]="'notification-' + notification.type"
            [class.read]="notification.read"
          >
            <div class="notification-content">
              <strong>{{ notification.title }}</strong>
              <p>{{ notification.message }}</p>
              <small>{{ notification.timestamp | date:'medium' }}</small>
            </div>
            @if (!notification.read) {
              <span class="notification-badge">NEW</span>
            }
          </div>
        } @empty {
          <p class="no-notifications">üì™ –ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
        }
      </div>
    </section>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
    <section class="stats-section">
      <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">{{ userStats().total }}</div>
          <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ userStats().active }}</div>
          <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ userStats().admins }}</div>
          <div class="stat-label">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ userStats().recentlyActive }}</div>
          <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞ 24—á</div>
        </div>
      </div>
    </section>

    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
    <section class="users-section">
      <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
      
      <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
      <div class="user-form">
        <h3>‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
        <div class="form-grid">
          <input 
            type="text" 
            [value]="newUser().name"
            (input)="newUser.update(u => ({...u, name: $any($event.target).value}))"
            placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
            class="form-input"
          >
          <input 
            type="email" 
            [value]="newUser().email"
            (input)="newUser.update(u => ({...u, email: $any($event.target).value}))"
            placeholder="Email"
            class="form-input"
          >
          <select 
            [value]="newUser().role"
            (change)="newUser.update(u => ({...u, role: $any($event.target).value}))"
            class="form-select"
          >
            <option value="user">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
            <option value="moderator">–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</option>
            <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
          </select>
          <button (click)="createUser()" class="btn-success">
            üéØ –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          </button>
        </div>
      </div>

      <!-- –ü–æ–∏—Å–∫ –∏ —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
      <div class="users-controls">
        <input 
          type="text" 
          [value]="searchQuery()"
          (input)="searchQuery.set($any($event.target).value)"
          placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π..."
          class="search-input"
        >
      </div>

      <div class="users-list">
        @if (isLoading()) {
          <div class="loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
        }
        
        @if (error()) {
          <div class="error-message">
            ‚ùå {{ error() }}
            <button (click)="userService.clearError()" class="btn-clear">
              ‚úï
            </button>
          </div>
        }

        @for (user of getFilteredUsers(); track user.id) {
          <div class="user-card" [class.inactive]="!user.isActive">
            <div class="user-avatar">
              {{ user.avatar }}
            </div>
            
            <div class="user-info">
              <h4>{{ user.name }}</h4>
              <p class="user-email">{{ user.email }}</p>
              <div class="user-badges">
                <span 
                  class="badge" 
                  [class]="getRoleBadgeClass(user.role)"
                >
                  {{ user.role }}
                </span>
                <span 
                  class="badge" 
                  [class]="getStatusBadgeClass(user.isActive)"
                >
                  {{ user.isActive ? '–ê–∫—Ç–∏–≤–µ–Ω' : '–ù–µ–∞–∫—Ç–∏–≤–µ–Ω' }}
                </span>
              </div>
              <small class="user-date">
                –°–æ–∑–¥–∞–Ω: {{ user.createdAt | date:'shortDate' }}
              </small>
            </div>

            <div class="user-actions">
              <button 
                (click)="toggleUserStatus(user.id)"
                [class]="user.isActive ? 'btn-warning' : 'btn-success'"
                class="btn-sm"
              >
                {{ user.isActive ? '‚è∏Ô∏è –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å' : '‚ñ∂Ô∏è –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å' }}
              </button>
              <button 
                (click)="deleteUser(user.id)"
                class="btn-danger btn-sm"
              >
                üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
              </button>
            </div>
          </div>
        } @empty {
          <div class="empty-state">
            @if (searchQuery()) {
              <p>üîç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
            } @else {
              <p>üë• –ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
            }
          </div>
        }
      </div>
    </section>

    <!-- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <section class="cache-section">
      <h2>üíæ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
      <div class="cache-controls">
        <input 
          type="text" 
          [value]="cacheKey()"
          (input)="cacheKey.set($any($event.target).value)"
          placeholder="–ö–ª—é—á –∫—ç—à–∞"
          class="form-input"
        >
        <input 
          type="text" 
          [value]="cacheValue()"
          (input)="cacheValue.set($any($event.target).value)"
          placeholder="–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫—ç—à–∞"
          class="form-input"
        >
        <input 
          type="number" 
          [value]="cacheExpiresIn()"
          (input)="cacheExpiresIn.set($any($event.target).value)"
          placeholder="–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ (–º—Å)"
          class="form-input"
        >
        <div class="cache-buttons">
          <button (click)="setCache()" class="btn-primary">
            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à
          </button>
          <button (click)="getCache()" class="btn-secondary">
            üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –∫—ç—à–∞
          </button>
          <button (click)="clearCache()" class="btn-danger">
            üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
          </button>
        </div>
      </div>
    </section>
  </div>
</div>
```

```css
/* services-demo.component.css */
.services-demo {
  min-height: 100vh;
  background: #f8f9fa;
  color: #333;
  transition: all 0.3s ease;
}

.services-demo.dark-theme {
  background: #1a1a1a;
  color: #fff;
}

.demo-header {
  background: white;
  padding: 1rem 2rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.dark-theme .demo-header {
  background: #2d2d2d;
}

.header-controls {
  display: flex;
  gap: 1rem;
}

.demo-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

/* –°–µ–∫—Ü–∏–∏ */
section {
  background: white;
  margin-bottom: 2rem;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.dark-theme section {
  background: #2d2d2d;
}

/* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
.notifications-section {
  border-left: 4px solid #007bff;
}

.notification-controls {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.notifications-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.notification {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  border-radius: 6px;
  border-left: 4px solid;
}

.notification-success {
  background: #d4edda;
  border-left-color: #28a745;
  color: #155724;
}

.notification-error {
  background: #f8d7da;
  border-left-color: #dc3545;
  color: #721c24;
}

.notification-warning {
  background: #fff3cd;
  border-left-color: #ffc107;
  color: #856404;
}

.notification-info {
  background: #d1ecf1;
  border-left-color: #17a2b8;
  color: #0c5460;
}

.notification.read {
  opacity: 0.7;
}

.notification-badge {
  background: #dc3545;
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: bold;
}

/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.stat-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1.5rem;
  border-radius: 8px;
  text-align: center;
}

.stat-number {
  font-size: 2rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.stat-label {
  font-size: 0.9rem;
  opacity: 0.9;
}

/* –§–æ—Ä–º—ã */
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr auto auto;
  gap: 1rem;
  align-items: end;
}

.form-input, .form-select {
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
}

.dark-theme .form-input,
.dark-theme .form-select {
  background: #3d3d3d;
  border-color: #555;
  color: white;
}

.search-input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
  margin-bottom: 1rem;
}

.dark-theme .search-input {
  background: #3d3d3d;
  border-color: #555;
  color: white;
}

/* –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π */
.users-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.user-card {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  transition: all 0.3s ease;
}

.user-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.user-card.inactive {
  opacity: 0.6;
}

.user-avatar {
  font-size: 2rem;
}

.user-info {
  flex: 1;
}

.user-info h4 {
  margin: 0 0 0.5rem 0;
}

.user-email {
  color: #666;
  margin: 0 0 0.5rem 0;
}

.dark-theme .user-email {
  color: #ccc;
}

.user-badges {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.badge {
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: bold;
}

.badge-primary { background: #007bff; color: white; }
.badge-success { background: #28a745; color: white; }
.badge-danger { background: #dc3545; color: white; }
.badge-warning { background: #ffc107; color: black; }
.badge-info { background: #17a2b8; color: white; }
.badge-secondary { background: #6c757d; color: white; }

.user-date {
  color: #999;
}

.user-actions {
  display: flex;
  gap: 0.5rem;
}

/* –ö–Ω–æ–ø–∫–∏ */
button {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.btn-primary { background: #007bff; color: white; }
.btn-secondary { background: #6c757d; color: white; }
.btn-success { background: #28a745; color: white; }
.btn-danger { background: #dc3545; color: white; }
.btn-warning { background: #ffc107; color: black; }
.btn-info { background: #17a2b8; color: white; }

.btn-sm { padding: 0.25rem 0.5rem; font-size: 0.8rem; }

button:hover {
  opacity: 0.8;
  transform: translateY(-1px);
}

/* –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ */
.cache-controls {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1rem;
  align-items: end;
}

.cache-buttons {
  display: flex;
  gap: 0.5rem;
}

/* –°–æ—Å—Ç–æ—è–Ω–∏—è */
.loading {
  text-align: center;
  padding: 2rem;
  color: #666;
}

.error-message {
  background: #f8d7da;
  color: #721c24;
  padding: 1rem;
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.empty-state {
  text-align: center;
  padding: 2rem;
  color: #666;
}

.no-notifications {
  text-align: center;
  padding: 1rem;
  color: #666;
  font-style: italic;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .demo-header {
    flex-direction: column;
    gap: 1rem;
  }
  
  .form-grid {
    grid-template-columns: 1fr;
  }
  
  .cache-controls {
    grid-template-columns: 1fr;
  }
  
  .user-card {
    flex-direction: column;
    text-align: center;
  }
  
  .user-actions {
    justify-content: center;
  }
  
  .notification-controls {
    flex-direction: column;
  }
}
```

---

## **–í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–¥–∞–Ω–∏–π:**

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω–æ–π –ø–æ–∫—É–ø–æ–∫
- –†–∞–±–æ—Ç—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤
- –°–∏—Å—Ç–µ–º—ã —Å–∫–∏–¥–æ–∫ –∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
- –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –º–µ–¥–∏–∞-–ø–ª–µ–µ—Ä–∞**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ
- –•—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### **–í–∞—Ä–∏–∞–Ω—Ç 4: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –û—Ç–ø—Ä–∞–≤–∫–∏ email –∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –û—á–µ—Ä–µ–¥–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏

### **–í–∞—Ä–∏–∞–Ω—Ç 5: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç
- –ë—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
- –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è

### **–í–∞—Ä–∏–∞–Ω—Ç 6: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- –ö–∞–ª–µ–Ω–¥–∞—Ä—è —Å–æ–±—ã—Ç–∏–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

### **–í–∞—Ä–∏–∞–Ω—Ç 7: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–∞–º–∏ –∏ —É—Ä–æ–∫–∞–º–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –°–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–π—Ç–∏–Ω–≥–∞ –∏ –æ—Ç–∑—ã–≤–æ–≤

### **–í–∞—Ä–∏–∞–Ω—Ç 8: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –õ–µ–Ω—Ç—ã –Ω–æ–≤–æ—Å—Ç–µ–π
- –°–∏—Å—Ç–µ–º—ã –¥—Ä—É–∑–µ–π
- –°–æ–æ–±—â–µ–Ω–∏–π –∏ —á–∞—Ç–æ–≤
- –ú–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### **–í–∞—Ä–∏–∞–Ω—Ç 9: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è CRM —Å–∏—Å—Ç–µ–º—ã**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –í–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏ –∑–∞–¥–∞—á
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç–æ–≤

### **–í–∞—Ä–∏–∞–Ω—Ç 10: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏–≥—Ä–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
- –†–µ–π—Ç–∏–Ω–≥–∞ –∏–≥—Ä–æ–∫–æ–≤
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –Ω–∞–≥—Ä–∞–¥
- –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–Ω–æ–π –∏–≥—Ä—ã

### **–í–∞—Ä–∏–∞–Ω—Ç 11: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –°–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–Ω–¥–æ–≤

### **–í–∞—Ä–∏–∞–Ω—Ç 12: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- Workflow approval
- –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç–∏
- –ü–æ–∏—Å–∫–∞ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

### **–í–∞—Ä–∏–∞–Ω—Ç 13: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- –°–∏—Å—Ç–µ–º—ã –æ–ø–ª–∞—Ç—ã

### **–í–∞—Ä–∏–∞–Ω—Ç 14: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏
- –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –ª–µ—á–µ–Ω–∏—è
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –ø—Ä–∏–µ–º–∞—Ö

### **–í–∞—Ä–∏–∞–Ω—Ç 15: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è IoT –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**
–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è:
- –°–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

## **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏:**

### **5 (–û—Ç–ª–∏—á–Ω–æ):**
- –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç—É
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Dependency Injection
- –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ (Signals, RxJS)

### **4 (–•–æ—Ä–æ—à–æ):**
- –°–æ–∑–¥–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ DI –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- –•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã

### **3 (–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ):**
- –°–æ–∑–¥–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –ï—Å—Ç—å –æ—à–∏–±–∫–∏ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- –ù–µ–ø–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **2 (–ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ):**
- –°–µ—Ä–≤–∏—Å—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –ö–æ–¥ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

---

## **–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:**

1. –í —á–µ–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Angular?
2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Dependency Injection –≤ Angular?
3. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É providedIn: 'root' –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –≤ –º–æ–¥—É–ª–µ?
4. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã vs –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏?
5. –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏?
6. –ö–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤—ã –∑–Ω–∞–µ—Ç–µ?
7. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö?
8. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Observable –∏ Signals?
9. –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏?
10. –ö–∞–∫–∏–µ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤?

---

## **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:**
```bash
ng new services-practice --standalone
cd services-practice
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
ng generate service services/user
ng generate service services/app-state
ng generate service services/api
ng generate service services/cache
```

3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç—É**

4. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

5. **–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤**

6. **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ README.md**

### **–ü—Ä–∏–º–µ—Ä README.md:**

```markdown
# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ8: –°–µ—Ä–≤–∏—Å—ã –∏ Dependency Injection –≤ Angular

## –í–∞—Ä–∏–∞–Ω—Ç 1: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### –ó–∞–¥–∞–Ω–∏–µ:
–°–æ–∑–¥–∞—Ç—å –Ω–∞–±–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- ‚úÖ `UserService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- ‚úÖ `AppStateService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ `ApiService` - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- ‚úÖ `CacheService` - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏:
- Dependency Injection
- RxJS –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- Signals –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
Components ‚Üí Services ‚Üí State Management
    ‚Üì              ‚Üì           ‚Üì
Templates   Business Logic   App State
```

### –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

![–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤](./assets/images/services-demo.png)

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
npm install
ng serve
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
ng test
```
```
