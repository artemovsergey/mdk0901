# Практическая работа 17. Создание компонентов в Angular

### **Тема:** Компоненты Angular - основные строительные блоки приложения

### **Цель:** 
Научиться создавать и использовать компоненты в Angular, понимать их структуру и взаимодействие между ними. Освоить работу с декоратором `@Component`, шаблонами, стилями и базовой логикой компонентов.

### **Теоретическая часть:**

**Компонент** в Angular - это основная строительная единица интерфейса, которая включает:
- **TypeScript класс** - содержит логику компонента
- **HTML шаблон** - определяет разметку
- **CSS стили** - определяют внешний вид
- **Декоратор `@Component`** - метаданные компонента

**Структура компонента:**
```typescript
import { Component } from '@angular/core';

@Component({
  selector: 'app-my-component',      // HTML-тег компонента
  templateUrl: './my-component.html', // Путь к шаблону
  styleUrls: ['./my-component.css']   // Путь к стилям
})
export class MyComponent {
  title = 'Мой компонент';
  
  // Логика компонента
  onButtonClick() {
    console.log('Кнопка нажата!');
  }
}
```

**Основные свойства декоратора `@Component`:**
- `selector` - CSS селектор для использования компонента
- `template/templateUrl` - HTML разметка
- `styles/styleUrls` - CSS стили
- `standalone` - флаг standalone компонента

### **Ход работы:**

1. Создать новый Angular проект
2. Изучить структуру компонента
3. Создать компоненты согласно варианту задания
4. Настроить взаимодействие между компонентами
5. Добавить базовую стилизацию
6. Протестировать работу компонентов
7. Оформить README.md с описанием работы

### **Практический пример:**

**Создание компонента кнопки:**

1. **Генерация компонента:**
```bash
ng generate component components/button
```

2. **button.component.ts:**
```typescript
import { Component, Input, Output, EventEmitter } from '@angular/core';

@Component({
  selector: 'app-button',
  templateUrl: './button.component.html',
  styleUrls: ['./button.component.css']
})
export class ButtonComponent {
  @Input() text: string = 'Кнопка';
  @Input() type: 'primary' | 'secondary' | 'danger' = 'primary';
  @Input() disabled: boolean = false;
  
  @Output() onClick = new EventEmitter<void>();

  handleClick() {
    if (!this.disabled) {
      this.onClick.emit();
    }
  }
}
```

3. **button.component.html:**
```html
<button 
  class="btn"
  [class.btn-primary]="type === 'primary'"
  [class.btn-secondary]="type === 'secondary'"
  [class.btn-danger]="type === 'danger'"
  [disabled]="disabled"
  (click)="handleClick()">
  {{ text }}
</button>
```

4. **button.component.css:**
```css
.btn {
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
}

.btn-primary {
  background-color: #007bff;
  color: white;
}

.btn-secondary {
  background-color: #6c757d;
  color: white;
}

.btn-danger {
  background-color: #dc3545;
  color: white;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn:hover:not(:disabled) {
  opacity: 0.8;
  transform: translateY(-2px);
}
```

5. **Использование в родительском компоненте:**
```html
<app-button 
  text="Сохранить" 
  type="primary"
  (onClick)="saveData()">
</app-button>
```

---

## **Варианты заданий:**

### **Вариант 1: Компонент карточки пользователя**
Создайте компонент карточки пользователя, который отображает:
- Аватар (изображение)
- Имя и фамилию
- Email
- Кнопку "Написать сообщение"

### **Вариант 2: Компонент прогресс-бара**
Создайте компонент прогресс-бара с:
- Визуальным отображением прогресса
- Текстовым отображением процентов
- Возможностью задавать цвет
- Анимацией заполнения

### **Вариант 3: Компонент модального окна**
Создайте компонент модального окна с:
- Заголовком
- Контентом
- Кнопками "ОК" и "Отмена"
- Возможностью закрытия по клику вне окна

### **Вариант 4: Компонент рейтинга**
Создайте компонент звездного рейтинга с:
- Возможностью выбора оценки от 1 до 5
- Отображением текущего рейтинга
- Режимом "только чтение"

### **Вариант 5: Компонент навигационного меню**
Создайте компонент меню навигации с:
- Логотипом
- Ссылками на разделы
- Активным состоянием текущей страницы
- Адаптивным дизайном

### **Вариант 6: Компонент формы входа**
Создайте компонент формы входа с:
- Полями email и пароль
- Валидацией полей
- Кнопкой "Войти"
- Ссылкой "Забыли пароль?"

### **Вариант 7: Компонент списка задач**
Создайте компонент списка задач с:
- Возможностью добавления новых задач
- Отметкой выполнения
- Удалением задач
- Фильтрацией по статусу

### **Вариант 8: Компонент галереи изображений**
Создайте компонент галереи с:
- Сеткой изображений
- Превью в модальном окне
- Навигацией между изображениями
- Индикатором текущего положения

### **Вариант 9: Компонент аккордеона**
Создайте компонент аккордеона с:
- Несколькими раскрывающимися секциями
- Анимацией раскрытия/закрытия
- Возможностью открытия только одной секции
- Кастомными иконками

### **Вариант 10: Компонент поиска**
Создайте компонент поиска с:
- Поле ввода с автодополнением
- Кнопкой поиска
- Историей поиска
- Индикатором загрузки

### **Вариант 11: Компонент уведомлений**
Создайте компонент системы уведомлений с:
- Разными типами уведомлений (success, error, warning, info)
- Автоматическим скрытием
- Возможностью закрытия вручную
- Стекующимися уведомлениями

### **Вариант 12: Компонент календаря**
Создайте компонент календаря с:
- Отображением текущего месяца
- Выделением текущей даты
- Возможностью выбора даты
- Навигацией по месяцам

### **Вариант 13: Комponent пагинации**
Создайте компонент пагинации с:
- Номерами страниц
- Кнопками "Назад"/"Вперед"
- Эллипсисом для большого количества страниц
- Возможностью задания размера страницы

### **Вариант 14: Компонент загрузки файлов**
Создайте компонент загрузки файлов с:
- Drag & drop областью
- Отображением прогресса загрузки
- Списком загруженных файлов
- Валидацией типов файлов

### **Вариант 15: Компонент счетчика**
Создайте компонент счетчика с:
- Кнопками увеличения/уменьшения
- Поле ввода значения
- Минимальным и максимальным значением
- Анимацией изменения значения

---

## **Критерии оценки:**

### **5 (Отлично):**
- Все компоненты созданы согласно заданию
- Корректная работа всей функциональности
- Чистый, хорошо структурированный код
- Полное соблюдение code style Angular
- Качественная стилизация и UX
- Наличие комментариев в коде
- Полное описание в README.md

### **4 (Хорошо):**
- Основные компоненты созданы
- Функциональность работает с незначительными недочетами
- Код в основном чистый и понятный
- Небольшие отступления от code style
- Стилизация присутствует, но могла бы быть лучше
- README.md содержит основную информацию

### **3 (Удовлетворительно):**
- Созданы основные компоненты
- Базовая функциональность работает
- Код требует улучшения структуры
- Стилизация минимальная
- README.md оформлен неполностью

### **2 (Неудовлетворительно):**
- Компоненты не созданы или не работают
- Код не соответствует требованиям
- Отсутствует стилизация
- README.md отсутствует или неинформативен

---

## **Контрольные вопросы:**

1. Что такое компонент в Angular и из каких частей он состоит?
2. Какой декоратор используется для создания компонента?
3. В чем разница между `template` и `templateUrl`?
4. Как передать данные в компонент от родителя?
5. Как компонент может отправить данные родителю?
6. Что такое жизненный цикл компонента?
7. Какие методы жизненного цикла вы знаете?
8. Как стилизовать компонент и обеспечить инкапсуляцию стилей?
9. Что такое `ViewEncapsulation` и какие типы существуют?
10. Как создать standalone компонент?
11. В чем разница между `ngOnInit` и `constructor`?
12. Как обработать события в компоненте?
13. Что такое интерполяция в шаблонах Angular?
14. Как использовать условные конструкции в шаблоне?
15. Какие способы привязки данных существуют в Angular?

---

## **Файловая структура проекта:**

```
practical-work-2-components/
│
├── src/
│   ├── app/
│   │   ├── components/
│   │   │   ├── user-card/          # Ваш компонент
│   │   │   │   ├── user-card.component.ts
│   │   │   │   ├── user-card.component.html
│   │   │   │   ├── user-card.component.css
│   │   │   │   └── user-card.component.spec.ts
│   │   │   └── ...
│   │   ├── app.component.ts
│   │   ├── app.component.html
│   │   ├── app.component.css
│   │   └── app.module.ts
│   ├── assets/
│   │   └── images/                 # Скриншоты
│   ├── index.html
│   ├── styles.css
│   └── main.ts
│
├── README.md
└── package.json
```

---

## **Пример README.md для варианта 1:**

```markdown
# Практическая работа №2: Создание компонентов в Angular

## Вариант 1: Компонент карточки пользователя

### Задание:
Создать компонент карточки пользователя, который отображает:
- Аватар (изображение)
- Имя и фамилию
- Email
- Кнопку "Написать сообщение"

### Реализация:

#### user-card.component.ts
```typescript
import { Component, Input, Output, EventEmitter } from '@angular/core';

export interface User {
  id: number;
  firstName: string;
  lastName: string;
  email: string;
  avatarUrl: string;
}

@Component({
  selector: 'app-user-card',
  templateUrl: './user-card.component.html',
  styleUrls: ['./user-card.component.css']
})
export class UserCardComponent {
  @Input() user: User = {} as User;
  @Output() messageClick = new EventEmitter<number>();

  onMessageClick() {
    this.messageClick.emit(this.user.id);
  }

  get fullName(): string {
    return `${this.user.firstName} ${this.user.lastName}`;
  }
}
```

#### user-card.component.html
```html
<div class="user-card">
  <div class="user-avatar">
    <img [src]="user.avatarUrl" [alt]="fullName">
  </div>
  
  <div class="user-info">
    <h3 class="user-name">{{ fullName }}</h3>
    <p class="user-email">{{ user.email }}</p>
  </div>
  
  <button class="message-btn" (click)="onMessageClick()">
    Написать сообщение
  </button>
</div>
```

#### user-card.component.css
```css
.user-card {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 16px;
  max-width: 300px;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s ease;
}

.user-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.user-avatar img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #007bff;
}

.user-info {
  margin: 16px 0;
}

.user-name {
  margin: 0 0 8px 0;
  color: #333;
  font-size: 1.2em;
}

.user-email {
  margin: 0;
  color: #666;
  font-size: 0.9em;
}

.message-btn {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.message-btn:hover {
  background-color: #0056b3;
}
```

#### Использование в app.component.html
```html
<div class="container">
  <app-user-card 
    [user]="currentUser"
    (messageClick)="onMessage($event)">
  </app-user-card>
</div>
```

### Скриншоты результата:

![Карточка пользователя](./assets/images/user-card-screenshot.png)

### Запуск проекта:
```bash
npm install
ng serve
```

Приложение будет доступно по адресу: `http://localhost:4200`
```

---

## **Инструкция по сдаче работы:**

1. Создать репозиторий на Gogs
2. Клонировать репозиторий локально
3. Создать Angular проект в папке репозитория
4. Реализовать компонент согласно варианту
5. Сделать коммиты с понятными сообщениями
6. Добавить скриншоты работы в папку `assets/images`
7. Оформить README.md
8. Запушить изменения в Gogs
9. Предоставить ссылку на репозиторий преподавателю